{
  orig=pattern;
  if ((flags & Pattern.LITERAL) > 0) {
    pattern=Pattern.quote(pattern);
  }
 else   if ((flags & Pattern.CANON_EQ) > 0) {
    pattern=Lexer.normalize(pattern);
  }
  this.pattern=new char[pattern.length() + 2];
  System.arraycopy(pattern.toCharArray(),0,this.pattern,0,pattern.length());
  this.pattern[this.pattern.length - 1]=0;
  this.pattern[this.pattern.length - 2]=0;
  patternFullLength=this.pattern.length;
  this.flags=flags;
  movePointer();
  movePointer();
}
