{
  if (key == null) {
    throw new NullPointerException("key == null");
  }
 else   if (value == null) {
    throw new NullPointerException("value == null");
  }
  if (key.length() > MAX_KEY_LENGTH || value.length() > MAX_VALUE_LENGTH) {
    throw new IllegalArgumentException();
  }
synchronized (lock) {
    checkState();
    putSpi(key,value);
  }
  notifyPreferenceChange(key,value);
}
