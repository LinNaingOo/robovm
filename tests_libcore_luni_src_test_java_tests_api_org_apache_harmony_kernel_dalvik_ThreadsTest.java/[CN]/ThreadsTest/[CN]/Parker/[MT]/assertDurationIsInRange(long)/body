{
  long minimum=(long)((double)expectedMillis * 0.95);
  long maximum=Math.max((long)((double)expectedMillis * 1.05),10);
  long waitMillis=Math.max(expectedMillis * 10,10);
  long duration=getDurationMillis(waitMillis);
  if (duration < minimum) {
    Assert.fail("expected duration: " + expectedMillis + "; actual too short: "+ duration);
  }
 else   if (duration > maximum) {
    Assert.fail("expected duration: " + expectedMillis + "; actual too long: "+ duration);
  }
}
