{
  try {
    barrier.await(60,TimeUnit.SECONDS);
  }
 catch (  Exception e) {
    throw new AssertionError(e);
  }
  try {
    Thread.sleep(waitMillis);
  }
 catch (  InterruptedException ex) {
    throw new RuntimeException("shouldn't happen",ex);
  }
  UNSAFE.unpark(thread);
}
