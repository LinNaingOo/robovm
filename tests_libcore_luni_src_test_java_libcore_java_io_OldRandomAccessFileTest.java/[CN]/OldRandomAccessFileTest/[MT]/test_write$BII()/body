{
  RandomAccessFile raf=new java.io.RandomAccessFile(fileName,"rw");
  byte[] rbuf=new byte[4000];
  byte[] testBuf=null;
  int bytesRead;
  try {
    raf.write(testBuf,1,1);
    fail("Test 1: NullPointerException expected.");
  }
 catch (  NullPointerException e) {
  }
  testBuf=testString.getBytes();
  try {
    raf.write(testBuf,-1,10);
    fail("Test 2: IndexOutOfBoundsException expected.");
  }
 catch (  IndexOutOfBoundsException expected) {
  }
  try {
    raf.write(testBuf,0,-1);
    fail("Test 3: IndexOutOfBoundsException expected.");
  }
 catch (  IndexOutOfBoundsException expected) {
  }
  try {
    raf.write(testBuf,5,testLength);
    fail("Test 4: IndexOutOfBoundsException expected.");
  }
 catch (  IndexOutOfBoundsException expected) {
  }
  try {
    raf.write(testBuf,3,testLength - 5);
  }
 catch (  Exception e) {
    fail("Test 5: Unexpected exception: " + e.getMessage());
  }
  raf.close();
  try {
    raf.write(new byte[0]);
  }
 catch (  IOException e) {
    fail("Test 6: Unexpected IOException: " + e.getMessage());
  }
  try {
    raf.write(testString.getBytes());
    fail("Test 7: IOException expected.");
  }
 catch (  IOException e) {
  }
  FileInputStream fis=new java.io.FileInputStream(fileName);
  bytesRead=fis.read(rbuf,0,testLength);
  assertEquals("Test 8: Incorrect number of bytes written or read;",testLength - 5,bytesRead);
  assertEquals("Test 9: Incorrect bytes written or read; ",testString.substring(3,testLength - 2),new String(rbuf,0,bytesRead));
}
