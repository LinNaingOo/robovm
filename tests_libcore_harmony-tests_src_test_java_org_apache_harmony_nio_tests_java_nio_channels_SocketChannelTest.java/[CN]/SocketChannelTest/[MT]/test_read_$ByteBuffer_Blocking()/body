{
  byte[] data=new byte[CAPACITY_NORMAL];
  for (int i=0; i < CAPACITY_NORMAL; i++) {
    data[i]=(byte)i;
  }
  ByteBuffer[] buf=new ByteBuffer[2];
  buf[0]=ByteBuffer.allocate(CAPACITY_NORMAL);
  buf[1]=ByteBuffer.allocate(CAPACITY_NORMAL);
  channel1.connect(localAddr1);
  Socket socket=null;
  try {
    socket=server1.accept();
    OutputStream out=socket.getOutputStream();
    out.write(data);
    channel1.read(buf);
  }
  finally {
    if (null != socket) {
      socket.close();
    }
  }
}
