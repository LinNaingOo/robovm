{
switch (format) {
case BIN:
    throw new UnsupportedOperationException("Binary property list format is not supported yet.");
case XML:
  new DOMXMLWriter(root).write(stream);
break;
case TXT:
throw new UnsupportedOperationException("Text property list format is not supported yet.");
default :
throw new NullPointerException("format");
}
}
