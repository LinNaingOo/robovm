{
  if (o == null) {
    return 0L;
  }
  long handle=stringWithCharacters$length$(getChars(o),o.length());
  retain(handle);
  if ((flags & MarshalerFlags.CALL_TYPE_CALLBACK) > 0) {
    autorelease(handle);
  }
  return handle;
}
