{
  if (o == null) {
    return 0L;
  }
  try (NSString s=new NSString(o)){
    s.retain();
    if ((flags & MarshalerFlags.CALL_TYPE_CALLBACK) > 0) {
      s.autorelease();
    }
    return s.getHandle();
  }
 }
