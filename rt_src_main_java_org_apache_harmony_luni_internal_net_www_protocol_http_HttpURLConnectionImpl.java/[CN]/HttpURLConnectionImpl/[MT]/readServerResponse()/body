{
  socketOut.flush();
  do {
    responseCode=-1;
    responseMessage=null;
    resHeader=new Header();
    String line=readln();
    if (line != null) {
      resHeader.setStatusLine(line.trim());
      readHeaders();
    }
  }
 while (getResponseCode() == 100);
  if (method == HEAD || (responseCode >= 100 && responseCode < 200) || responseCode == HTTP_NO_CONTENT || responseCode == HTTP_NOT_MODIFIED) {
    disconnect();
    uis=new LimitedInputStream(0);
  }
  putToCache();
}
