{
  writeToSocket=true;
  this.limit=limit;
  this.fixedMod=fixedMode;
  if (limit > 0) {
    cacheLength=limit;
  }
 else {
    defaultCacheSize=chunkLength > 3 ? chunkLength : MAX;
    cacheLength=calculateChunkDataLength();
  }
  cache=new ByteArrayOutputStream(cacheLength);
}
