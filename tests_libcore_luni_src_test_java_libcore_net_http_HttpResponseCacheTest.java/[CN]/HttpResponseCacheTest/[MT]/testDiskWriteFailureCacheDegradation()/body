{
  Deque<InvocationHandler> writeHandlers=mockOs.getHandlers("write");
  int i=0;
  boolean hasMoreScenarios=true;
  while (hasMoreScenarios) {
    mockOs.enqueueNormal("write",i++);
    mockOs.enqueueFault("write");
    exercisePossiblyFaultyCache(false);
    hasMoreScenarios=writeHandlers.isEmpty();
    writeHandlers.clear();
  }
  System.out.println("Exercising the cache performs " + (i - 1) + " writes.");
}
