{
  int index;
  if ((index=methodCache.get(aMethod)) < 0) {
    int classIndex=typeIndex(aMethod.getDeclaringClass().getName());
    int nameAndTypeIndex=literalIndexForNameAndType(literalIndex(Init),literalIndex(ProxyClassFile.getConstantPoolName(aMethod)));
    index=methodCache.put(aMethod,currentIndex++);
    writeU1(MethodRefTag);
    writeU2(classIndex);
    writeU2(nameAndTypeIndex);
  }
  return index;
}
