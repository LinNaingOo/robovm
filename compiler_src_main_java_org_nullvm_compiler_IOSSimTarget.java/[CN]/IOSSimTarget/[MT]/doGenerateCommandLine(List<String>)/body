{
  File dir=config.getTmpDir();
  if (!config.isSkipInstall()) {
    dir=config.getInstallDir();
  }
  String iosSimPath="ios-sim";
  if (iosSimBinPath != null) {
    iosSimPath=iosSimBinPath.getAbsolutePath();
  }
  List<Object> args=new ArrayList<Object>();
  args.add("launch");
  args.add(dir.getAbsolutePath());
  if (sdk != null) {
    args.add("--sdk");
    args.add(sdk.getVersion());
  }
  if (!runArgs.isEmpty()) {
    args.add("--args");
    args.addAll(runArgs);
  }
  args.add("--family");
  args.add(family.toString().toLowerCase());
  return CompilerUtil.createCommandLine(iosSimPath,args.toArray(new Object[args.size()]));
}
