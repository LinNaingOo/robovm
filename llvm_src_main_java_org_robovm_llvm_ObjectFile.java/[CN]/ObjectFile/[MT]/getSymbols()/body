{
  List<Symbol> result=new ArrayList<>();
  SymbolIteratorRef it=LLVM.GetSymbols(ref);
  while (!LLVM.IsSymbolIteratorAtEnd(ref,it)) {
    String name=LLVM.GetSymbolName(it);
    long address=LLVM.GetSymbolAddress(it);
    long size=LLVM.GetSymbolSize(it);
    long fileOffset=LLVM.GetSymbolFileOffset(it);
    result.add(new Symbol(name,address,size,fileOffset));
    LLVM.MoveToNextSymbol(it);
  }
  LLVM.DisposeSymbolIterator(it);
  return result;
}
