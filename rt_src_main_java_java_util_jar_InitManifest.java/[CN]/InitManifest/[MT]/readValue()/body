{
  byte next;
  boolean lastCr=false;
  int mark=pos;
  int last=pos;
  decoder.reset();
  cBuf.clear();
  while (pos < buf.length) {
    next=buf[pos++];
switch (next) {
case 0:
      throw new IOException(Messages.getString("archive.2F"));
case '\n':
    if (lastCr) {
      lastCr=false;
    }
 else {
      linebreak++;
    }
  continue;
case '\r':
lastCr=true;
linebreak++;
continue;
case ' ':
if (linebreak == 1) {
decode(mark,last,false);
mark=pos;
linebreak=0;
continue;
}
}
if (linebreak >= 1) {
pos--;
break;
}
last=pos;
}
decode(mark,last,true);
while (CoderResult.OVERFLOW == decoder.flush(cBuf)) {
enlargeBuffer();
}
value=new String(cBuf.array(),cBuf.arrayOffset(),cBuf.position());
}
