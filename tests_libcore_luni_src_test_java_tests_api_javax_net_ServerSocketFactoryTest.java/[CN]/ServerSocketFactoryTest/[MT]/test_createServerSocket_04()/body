{
  ServerSocketFactory sf=ServerSocketFactory.getDefault();
  int portNumber=Support_PortManager.getNextPort();
  try {
    ServerSocket ss=sf.createServerSocket(portNumber,0,InetAddress.getLocalHost());
    assertNotNull(ss);
  }
 catch (  Exception ex) {
    fail("Unexpected exception: " + ex);
  }
  try {
    sf.createServerSocket(portNumber,0,InetAddress.getLocalHost());
    fail("IOException wasn't thrown");
  }
 catch (  IOException ioe) {
  }
catch (  Exception ex) {
    fail(ex + " was thrown instead of IOException");
  }
  try {
    sf.createServerSocket(Integer.MAX_VALUE,0,InetAddress.getLocalHost());
    fail("IllegalArgumentException wasn't thrown");
  }
 catch (  IllegalArgumentException ioe) {
  }
catch (  Exception ex) {
    fail(ex + " was thrown instead of IllegalArgumentException");
  }
}
