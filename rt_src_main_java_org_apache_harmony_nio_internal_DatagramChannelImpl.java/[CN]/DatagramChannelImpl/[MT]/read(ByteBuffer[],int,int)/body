{
  if (length < 0 || offset < 0 || (long)length + (long)offset > targets.length) {
    throw new IndexOutOfBoundsException();
  }
  checkOpenConnected();
  int totalCount=0;
  for (int val=offset; val < length; val++) {
    checkWritable(targets[val]);
    totalCount+=targets[val].remaining();
  }
  ByteBuffer readBuffer=ByteBuffer.allocate(totalCount);
  int readCount;
  readCount=readImpl(readBuffer);
  int left=readCount;
  int index=offset;
  byte[] readArray=readBuffer.array();
  while (left > 0) {
    int putLength=Math.min(targets[index].remaining(),left);
    targets[index].put(readArray,readCount - left,putLength);
    index++;
    left-=putLength;
  }
  return readCount;
}
