{
  SecureRandom sr=new SecureRandom();
  Cipher cipher=null;
  byte[] iv=null;
  AlgorithmParameterSpec ap=null;
  iv=new byte[8];
  sr.nextBytes(iv);
  ap=new IvParameterSpec(iv);
  cipher=Cipher.getInstance(algorithm + "/CBC/PKCS5Padding");
  cipher.init(Cipher.ENCRYPT_MODE,cipherKey,ap,sr);
  byte[] cipherIV=cipher.getIV();
  assertTrue("IVs differ",Arrays.equals(cipherIV,iv));
  cipher=Cipher.getInstance("DES/CBC/NoPadding");
  try {
    cipher.init(Cipher.ENCRYPT_MODE,cipherKey,ap,sr);
    fail();
  }
 catch (  InvalidKeyException expected) {
  }
  cipher=Cipher.getInstance("DES/CBC/NoPadding");
  ap=new RSAKeyGenParameterSpec(10,new BigInteger("10"));
  try {
    cipher.init(Cipher.ENCRYPT_MODE,cipherKeyDES,ap,sr);
    fail();
  }
 catch (  InvalidAlgorithmParameterException expected) {
  }
}
