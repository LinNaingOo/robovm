{
  int i;
  for (i=bits.length - 1; i >= 0; i--) {
    if (bits[i] != 0L)     break;
  }
  if (i < 0)   return 0;
  long j=bits[i];
  i++;
  i<<=6;
  for (long k=1L << 63; (k & j) == 0L; k>>=1, i--)   ;
  return i;
}
