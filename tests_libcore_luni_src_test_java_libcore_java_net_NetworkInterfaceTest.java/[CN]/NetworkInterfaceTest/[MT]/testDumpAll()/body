{
  Set<String> allNames=new HashSet<String>();
  Set<Integer> allIndexes=new HashSet<Integer>();
  for (  NetworkInterface nif : Collections.list(NetworkInterface.getNetworkInterfaces())) {
    System.err.println(nif);
    System.err.println(nif.getInterfaceAddresses());
    String flags=nif.isUp() ? "UP" : "DOWN";
    if (nif.isLoopback()) {
      flags+=" LOOPBACK";
    }
    if (nif.isPointToPoint()) {
      flags+=" PTP";
    }
    if (nif.isVirtual()) {
      flags+=" VIRTUAL";
    }
    if (nif.supportsMulticast()) {
      flags+=" MULTICAST";
    }
    flags+=" MTU=" + nif.getMTU();
    byte[] mac=nif.getHardwareAddress();
    if (mac != null) {
      flags+=" HWADDR=";
      for (int i=0; i < mac.length; ++i) {
        if (i > 0) {
          flags+=":";
        }
        flags+=String.format("%02x",mac[i]);
      }
    }
    System.err.println(flags);
    System.err.println("-");
    assertFalse(allNames.contains(nif.getName()));
    allNames.add(nif.getName());
    assertFalse(allIndexes.contains(nif.getIndex()));
    allIndexes.add(nif.getIndex());
  }
}
