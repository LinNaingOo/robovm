{
  AbstractPreferences ap=(AbstractPreferences)pref.node("New node");
  pref.putInt("IntValue",33);
  pref.putBoolean("BoolValue",true);
  pref.flush();
  assertTrue(pref.getBoolean("BoolValue",false));
  assertEquals(33,pref.getInt("IntValue",22));
  assertEquals(1,pref.childrenNames().length);
  pref.clear();
  assertFalse(pref.getBoolean("BoolValue",false));
  assertEquals(22,pref.getInt("IntValue",22));
  assertEquals(1,pref.childrenNames().length);
  pref.removeNode();
  try {
    pref.clear();
    fail("IllegalStateException expected");
  }
 catch (  IllegalStateException e) {
  }
  try {
    ap.clear();
    fail("IllegalStateException expected");
  }
 catch (  IllegalStateException e) {
  }
}
