{
  for (  KeyStore keyStore : keyStores()) {
    try {
      keyStore.aliases();
      fail(keyStore.getType());
    }
 catch (    KeyStoreException expected) {
    }
  }
  for (  KeyStore keyStore : keyStores()) {
    keyStore.load(null,null);
    if (isPersistentStorage(keyStore)) {
      assertTrue("Should successfully query size: " + keyStore.getType(),keyStore.size() >= 0);
    }
 else     if (hasDefaultContents(keyStore)) {
      assertTrue("Should have non-empty store: " + keyStore.getType(),keyStore.size() > 0);
    }
 else {
      assertEquals("Should have empty store: " + keyStore.getType(),0,keyStore.size());
    }
  }
  for (  KeyStore keyStore : keyStores()) {
    populate(keyStore);
    if (hasDefaultContents(keyStore)) {
      assertTrue("Should have non-empty store: " + keyStore.getType(),keyStore.size() > 0);
      continue;
    }
    int expected=0;
    if (isKeyPasswordSupported(keyStore)) {
      expected++;
    }
    if (isNullPasswordAllowed(keyStore)) {
      expected++;
    }
    if (isSecretKeyEnabled(keyStore)) {
      expected++;
      if (isNullPasswordAllowed(keyStore)) {
        expected++;
      }
    }
    if (isCertificateEnabled(keyStore)) {
      expected++;
    }
    assertEquals(expected,keyStore.size());
  }
}
