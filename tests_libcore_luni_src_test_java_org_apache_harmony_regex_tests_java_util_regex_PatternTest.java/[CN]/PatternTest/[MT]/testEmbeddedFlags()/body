{
  String baseString="(?i)((?s)a)";
  String testString="A";
  Pattern pat=Pattern.compile(baseString);
  Matcher mat=pat.matcher(testString);
  assertTrue(mat.matches());
  baseString="(?x)(?i)(?s)(?d)a";
  testString="A";
  pat=Pattern.compile(baseString);
  mat=pat.matcher(testString);
  assertTrue(mat.matches());
  baseString="(?x)(?i)(?s)(?d)a.";
  testString="a\n";
  pat=Pattern.compile(baseString);
  mat=pat.matcher(testString);
  assertTrue(mat.matches());
  baseString="abc(?x:(?i)(?s)(?d)a.)";
  testString="abcA\n";
  pat=Pattern.compile(baseString);
  mat=pat.matcher(testString);
  assertTrue(mat.matches());
  baseString="abc((?x)d)(?i)(?s)a";
  testString="abcdA";
  pat=Pattern.compile(baseString);
  mat=pat.matcher(testString);
  assertTrue(mat.matches());
}
