{
  Pattern pat=Pattern.compile("(?i)b*(?-i)a*");
  assertTrue(pat.matcher("bBbBaaaa").matches());
  assertFalse(pat.matcher("bBbBAaAa").matches());
  pat=Pattern.compile("(?i:b*)a*");
  assertTrue(pat.matcher("bBbBaaaa").matches());
  assertFalse(pat.matcher("bBbBAaAa").matches());
  pat=Pattern.compile("(?:-|(-?\\d+\\d\\d\\d))?(?:-|-(\\d\\d))?(?:-|-(\\d\\d))?(T)?(?:(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?)?(?:(?:((?:\\+|\\-)\\d\\d):(\\d\\d))|(Z))?");
  Matcher mat=pat.matcher("-1234-21-31T41:51:61.789+71:81");
  assertTrue(mat.matches());
  assertEquals("-1234",mat.group(1));
  assertEquals("21",mat.group(2));
  assertEquals("31",mat.group(3));
  assertEquals("T",mat.group(4));
  assertEquals("41",mat.group(5));
  assertEquals("51",mat.group(6));
  assertEquals("61",mat.group(7));
  assertEquals(".789",mat.group(8));
  assertEquals("+71",mat.group(9));
  assertEquals("81",mat.group(10));
  pat=Pattern.compile(".*\\.(?=log$).*$");
  assertTrue(pat.matcher("a.b.c.log").matches());
  assertFalse(pat.matcher("a.b.c.log.").matches());
  pat=Pattern.compile(".*\\.(?!log$).*$");
  assertFalse(pat.matcher("abc.log").matches());
  assertTrue(pat.matcher("abc.logg").matches());
  pat=Pattern.compile(".*(?<=abc)\\.log$");
  assertFalse(pat.matcher("cde.log").matches());
  assertTrue(pat.matcher("abc.log").matches());
  pat=Pattern.compile(".*(?<!abc)\\.log$");
  assertTrue(pat.matcher("cde.log").matches());
  assertFalse(pat.matcher("abc.log").matches());
  pat=Pattern.compile("(?>a*)abb");
  assertFalse(pat.matcher("aaabb").matches());
  pat=Pattern.compile("(?>a*)bb");
  assertTrue(pat.matcher("aaabb").matches());
  pat=Pattern.compile("(?>a|aa)aabb");
  assertTrue(pat.matcher("aaabb").matches());
  pat=Pattern.compile("(?>aa|a)aabb");
  assertFalse(pat.matcher("aaabb").matches());
}
