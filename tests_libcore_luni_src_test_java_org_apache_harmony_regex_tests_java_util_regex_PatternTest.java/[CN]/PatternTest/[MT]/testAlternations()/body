{
  String baseString="|a|bc";
  Pattern pat=Pattern.compile(baseString);
  Matcher mat=pat.matcher("");
  assertTrue(mat.matches());
  baseString="a||bc";
  pat=Pattern.compile(baseString);
  mat=pat.matcher("");
  assertTrue(mat.matches());
  baseString="a|bc|";
  pat=Pattern.compile(baseString);
  mat=pat.matcher("");
  assertTrue(mat.matches());
  baseString="a|b|";
  pat=Pattern.compile(baseString);
  mat=pat.matcher("");
  assertTrue(mat.matches());
  baseString="a(|b|cd)e";
  pat=Pattern.compile(baseString);
  mat=pat.matcher("ae");
  assertTrue(mat.matches());
  baseString="a(b||cd)e";
  pat=Pattern.compile(baseString);
  mat=pat.matcher("ae");
  assertTrue(mat.matches());
  baseString="a(b|cd|)e";
  pat=Pattern.compile(baseString);
  mat=pat.matcher("ae");
  assertTrue(mat.matches());
  baseString="a(b|c|)e";
  pat=Pattern.compile(baseString);
  mat=pat.matcher("ae");
  assertTrue(mat.matches());
  baseString="a(|)e";
  pat=Pattern.compile(baseString);
  mat=pat.matcher("ae");
  assertTrue(mat.matches());
  baseString="|";
  pat=Pattern.compile(baseString);
  mat=pat.matcher("");
  assertTrue(mat.matches());
  baseString="a(?:|)e";
  pat=Pattern.compile(baseString);
  mat=pat.matcher("ae");
  assertTrue(mat.matches());
  baseString="a||||bc";
  pat=Pattern.compile(baseString);
  mat=pat.matcher("");
  assertTrue(mat.matches());
  baseString="(?i-is)|a";
  pat=Pattern.compile(baseString);
  mat=pat.matcher("a");
  assertTrue(mat.matches());
}
