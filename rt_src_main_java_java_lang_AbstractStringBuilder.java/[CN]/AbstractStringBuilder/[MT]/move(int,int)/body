{
  int newSize;
  if (value.length - count >= size) {
    if (!shared) {
      System.arraycopy(value,index,value,index + size,count - index);
      return;
    }
    newSize=value.length;
  }
 else {
    int a=count + size, b=(value.length << 1) + 2;
    newSize=a > b ? a : b;
  }
  char[] newData=new char[newSize];
  System.arraycopy(value,0,newData,0,index);
  System.arraycopy(value,index,newData,index + size,count - index);
  value=newData;
  shared=false;
}
