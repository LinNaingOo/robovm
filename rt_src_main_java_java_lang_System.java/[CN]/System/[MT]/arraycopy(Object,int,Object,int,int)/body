{
  Class<?> type1=src.getClass();
  Class<?> type2=dest.getClass();
  if (!type1.isArray() || !type2.isArray()) {
    throw new ArrayStoreException();
  }
  Class<?> componentType1=type1.getComponentType();
  Class<?> componentType2=type2.getComponentType();
  if (!componentType1.isPrimitive()) {
    if (componentType2.isPrimitive()) {
      throw new ArrayStoreException();
    }
    arraycopy((Object[])src,srcPos,(Object[])dest,destPos,length);
  }
 else {
    if (componentType2 != componentType1) {
      throw new ArrayStoreException();
    }
    if (componentType1 == Integer.TYPE) {
      arraycopy((int[])src,srcPos,(int[])dest,destPos,length);
    }
 else     if (componentType1 == Byte.TYPE) {
      arraycopy((byte[])src,srcPos,(byte[])dest,destPos,length);
    }
 else     if (componentType1 == Long.TYPE) {
      arraycopy((long[])src,srcPos,(long[])dest,destPos,length);
    }
 else     if (componentType1 == Short.TYPE) {
      arraycopy((short[])src,srcPos,(short[])dest,destPos,length);
    }
 else     if (componentType1 == Character.TYPE) {
      arraycopy((char[])src,srcPos,(char[])dest,destPos,length);
    }
 else     if (componentType1 == Boolean.TYPE) {
      arraycopy((boolean[])src,srcPos,(boolean[])dest,destPos,length);
    }
 else     if (componentType1 == Double.TYPE) {
      arraycopy((double[])src,srcPos,(double[])dest,destPos,length);
    }
 else     if (componentType1 == Float.TYPE) {
      arraycopy((float[])src,srcPos,(float[])dest,destPos,length);
    }
  }
}
