{
  if (offset1 >= 0 && offset2 >= 0 && length >= 0 && length <= A1.length - offset1 && length <= A2.length - offset2) {
    if (A1 != A2 || offset1 > offset2 || offset1 + length <= offset2) {
      for (int i=0; i < length; ++i) {
        A2[offset2 + i]=A1[offset1 + i];
      }
    }
 else {
      for (int i=length - 1; i >= 0; --i) {
        A2[offset2 + i]=A1[offset1 + i];
      }
    }
  }
 else {
    throw new ArrayIndexOutOfBoundsException();
  }
}
