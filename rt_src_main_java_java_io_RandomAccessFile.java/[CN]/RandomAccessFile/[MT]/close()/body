{
synchronized (channel) {
    if (channel.isOpen()) {
      channel.close();
    }
  }
synchronized (this) {
    if (fd != null && fd.descriptor >= 0) {
      fileSystem.close(fd.descriptor);
      fd.descriptor=-1;
    }
  }
}
