{
  if (cls == ByteBuffer.class) {
    return VM.newDirectByteBuffer(handle,d1);
  }
  ByteOrder byteOrder=ByteOrder.nativeOrder();
  if (cls == ShortBuffer.class) {
    return VM.newDirectByteBuffer(handle,d1 << 1).order(byteOrder).asShortBuffer();
  }
  if (cls == CharBuffer.class) {
    return VM.newDirectByteBuffer(handle,d1 << 1).order(byteOrder).asCharBuffer();
  }
  if (cls == IntBuffer.class) {
    return VM.newDirectByteBuffer(handle,d1 << 2).order(byteOrder).asIntBuffer();
  }
  if (cls == LongBuffer.class) {
    return VM.newDirectByteBuffer(handle,d1 << 3).order(byteOrder).asLongBuffer();
  }
  if (cls == FloatBuffer.class) {
    return VM.newDirectByteBuffer(handle,d1 << 2).order(byteOrder).asFloatBuffer();
  }
  if (cls == DoubleBuffer.class) {
    return VM.newDirectByteBuffer(handle,d1 << 3).order(byteOrder).asDoubleBuffer();
  }
  throw new IllegalArgumentException("Unsupported class: " + cls.getName());
}
