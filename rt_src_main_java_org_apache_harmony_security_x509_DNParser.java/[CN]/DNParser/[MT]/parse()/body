{
  List list=new ArrayList();
  String attValue;
  String attType=nextAT();
  if (attType == null) {
    return list;
  }
  List atav=new ArrayList();
  while (true) {
    if (pos == length) {
      atav.add(new AttributeTypeAndValue(attType,new AttributeValue("",false)));
      list.add(0,atav);
      return list;
    }
switch (chars[pos]) {
case '"':
      attValue=quotedAV();
    atav.add(new AttributeTypeAndValue(attType,new AttributeValue(attValue,hasQE)));
  break;
case '#':
attValue=hexAV();
atav.add(new AttributeTypeAndValue(attType,new AttributeValue(attValue,encoded)));
break;
case '+':
case ',':
case ';':
atav.add(new AttributeTypeAndValue(attType,new AttributeValue("",false)));
break;
default :
attValue=escapedAV();
atav.add(new AttributeTypeAndValue(attType,new AttributeValue(attValue,hasQE)));
}
if (pos >= length) {
list.add(0,atav);
return list;
}
if (chars[pos] == ',' || chars[pos] == ';') {
list.add(0,atav);
atav=new ArrayList();
}
 else if (chars[pos] != '+') {
throw new IOException(Messages.getString("security.192"));
}
pos++;
attType=nextAT();
if (attType == null) {
throw new IOException(Messages.getString("security.192"));
}
}
}
