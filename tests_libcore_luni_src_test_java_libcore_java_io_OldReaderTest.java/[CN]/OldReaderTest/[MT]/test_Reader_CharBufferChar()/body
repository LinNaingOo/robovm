{
  Support_ASimpleReader simple;
  simple=new Support_ASimpleReader("Bla bla, what else?");
  CharBuffer buf=CharBuffer.allocate(4);
  assertEquals("Wrong return value!",4,simple.read(buf));
  buf.rewind();
  assertEquals("Wrong stuff read!","Bla ",String.valueOf(buf));
  simple.read(buf);
  buf.rewind();
  assertEquals("Wrong stuff read!","bla,",String.valueOf(buf));
  simple.throwExceptionOnNextUse=true;
  try {
    simple.read(buf);
    fail("IOException not thrown!");
  }
 catch (  IOException expected) {
  }
}
