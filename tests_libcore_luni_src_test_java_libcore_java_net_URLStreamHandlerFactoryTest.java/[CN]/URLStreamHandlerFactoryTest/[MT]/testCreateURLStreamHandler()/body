{
  TestURLStreamHandlerFactory shf=new TestURLStreamHandlerFactory();
  assertFalse(isCreateURLStreamHandlerCalled);
  URL.setURLStreamHandlerFactory(shf);
  URL url=new URL("http://android.com/");
  URLConnection connection=url.openConnection();
  assertTrue(connection instanceof Handler.HandlerURLConnection);
  try {
    URL.setURLStreamHandlerFactory(shf);
    fail();
  }
 catch (  Error expected) {
  }
  try {
    URL.setURLStreamHandlerFactory(null);
    fail();
  }
 catch (  Error expected) {
  }
}
