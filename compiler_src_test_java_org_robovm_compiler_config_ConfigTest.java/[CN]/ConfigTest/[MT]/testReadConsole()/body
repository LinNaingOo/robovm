{
  Config.Builder builder=new Config.Builder();
  builder.read(new InputStreamReader(getClass().getResourceAsStream("ConfigTest.console.xml"),"utf-8"),wd);
  Config config=builder.config;
  assertEquals(Arrays.asList(new File(wd,"foo1.jar"),new File(tmp,"foo2.jar")),config.getClasspath());
  assertEquals(Arrays.asList("Foundation","AppKit"),config.getFrameworks());
  assertEquals(Arrays.asList("dl","/tmp/wd/libs/libmy.a","/tmp/wd/libs/foo.o","/usr/lib/libbar.a"),config.getLibs());
  assertEquals(Arrays.asList(new Resource(new File(wd,"resources")),new Resource(new File("/usr/share/resources")),new Resource(null,null).include("data/**/*"),new Resource(null,null).include("videos/**/*.avi"),new Resource(new File(wd,"resources"),"data").include("**/*.png").exclude("**/foo.png").flatten(true)),config.getResources());
  assertEquals(Arrays.asList("javax.**.*"),config.getForceLinkClasses());
  assertEquals(OS.macosx,config.getOs());
  assertEquals(Arch.x86,config.getArch());
}
