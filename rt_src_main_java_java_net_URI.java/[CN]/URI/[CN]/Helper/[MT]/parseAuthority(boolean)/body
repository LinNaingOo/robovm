{
  if (authority == null) {
    return;
  }
  String temp, tempUserinfo=null, tempHost=null;
  int index, hostindex=0;
  int tempPort=-1;
  temp=authority;
  index=temp.indexOf('@');
  if (index != -1) {
    tempUserinfo=temp.substring(0,index);
    validateUserinfo(authority,tempUserinfo,0);
    temp=temp.substring(index + 1);
    hostindex=index + 1;
  }
  index=temp.lastIndexOf(':');
  int endindex=temp.indexOf(']');
  if (index != -1 && endindex < index) {
    tempHost=temp.substring(0,index);
    if (index < (temp.length() - 1)) {
      try {
        tempPort=Integer.parseInt(temp.substring(index + 1));
        if (tempPort < 0) {
          if (forceServer) {
            throw new URISyntaxException(authority,Messages.getString("luni.8B"),hostindex + index + 1);
          }
          return;
        }
      }
 catch (      NumberFormatException e) {
        if (forceServer) {
          throw new URISyntaxException(authority,Messages.getString("luni.8B"),hostindex + index + 1);
        }
        return;
      }
    }
  }
 else {
    tempHost=temp;
  }
  if (tempHost.equals("")) {
    if (forceServer) {
      throw new URISyntaxException(authority,Messages.getString("luni.A0"),hostindex);
    }
    return;
  }
  if (!isValidHost(forceServer,tempHost)) {
    return;
  }
  userinfo=tempUserinfo;
  host=tempHost;
  port=tempPort;
  serverAuthority=true;
}
