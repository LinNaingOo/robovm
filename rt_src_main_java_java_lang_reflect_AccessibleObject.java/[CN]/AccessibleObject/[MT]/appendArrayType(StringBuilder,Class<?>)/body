{
  if (!obj.isArray()) {
    sb.append(obj.getName());
    return;
  }
  int dimensions=1;
  Class simplified=obj.getComponentType();
  obj=simplified;
  while (simplified.isArray()) {
    obj=simplified;
    dimensions++;
  }
  sb.append(obj.getName());
switch (dimensions) {
case 1:
    sb.append("[]");
  break;
case 2:
sb.append("[][]");
break;
case 3:
sb.append("[][][]");
break;
default :
for (; dimensions > 0; dimensions--) {
sb.append("[]");
}
}
}
