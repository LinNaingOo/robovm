{
  URI base=new URI("http://a/b/c/d;p?q");
  assertEquals("http://a/b/c/g?y/./x",base.resolve("g?y/./x").toString());
  assertEquals("http://a/b/c/g?y/../x",base.resolve("g?y/../x").toString());
  assertEquals("http://a/b/c/g#s/./x",base.resolve("g#s/./x").toString());
  assertEquals("http://a/b/c/g#s/../x",base.resolve("g#s/../x").toString());
}
