{
  URI base=new URI("http://a/b/c/d;p?q");
  assertEquals("https:h",base.resolve("https:h").toString());
  assertEquals("http://a/b/c/g",base.resolve("g").toString());
  assertEquals("http://a/b/c/g",base.resolve("./g").toString());
  assertEquals("http://a/b/c/g/",base.resolve("g/").toString());
  assertEquals("http://a/g",base.resolve("/g").toString());
  assertEquals("http://g",base.resolve("//g").toString());
  assertEquals("http://a/b/c/d;p?y",base.resolve("?y").toString());
  assertEquals("http://a/b/c/g?y",base.resolve("g?y").toString());
  assertEquals("http://a/b/c/d;p?q#s",base.resolve("#s").toString());
  assertEquals("http://a/b/c/g#s",base.resolve("g#s").toString());
  assertEquals("http://a/b/c/g?y#s",base.resolve("g?y#s").toString());
  assertEquals("http://a/b/c/;x",base.resolve(";x").toString());
  assertEquals("http://a/b/c/g;x",base.resolve("g;x").toString());
  assertEquals("http://a/b/c/g;x?y#s",base.resolve("g;x?y#s").toString());
  assertEquals("http://a/b/c/d;p?q",base.resolve("").toString());
  assertEquals("http://a/b/c/",base.resolve(".").toString());
  assertEquals("http://a/b/c/",base.resolve("./").toString());
  assertEquals("http://a/b/",base.resolve("..").toString());
  assertEquals("http://a/b/",base.resolve("../").toString());
  assertEquals("http://a/b/g",base.resolve("../g").toString());
  assertEquals("http://a/",base.resolve("../..").toString());
  assertEquals("http://a/",base.resolve("../../").toString());
  assertEquals("http://a/g",base.resolve("../../g").toString());
}
