{
  NSString language=(NSString)getComponent(Foundation.NSLocaleLanguageCode());
  NSString country=(NSString)getComponent(Foundation.NSLocaleCountryCode());
  NSString variant=(NSString)getComponent(Foundation.NSLocaleVariantCode());
  if (language != null && country != null && variant != null) {
    return new Locale(language.toString(),country.toString(),variant.toString());
  }
  if (language != null && country != null) {
    return new Locale(language.toString(),country.toString());
  }
  if (language != null) {
    return new Locale(language.toString());
  }
  throw new IllegalArgumentException("Failed to convert NSLocale " + toString() + " to Java Locale");
}
