{
  stream.defaultReadObject();
  int length=stream.readInt();
  elementData=newElementArray(length);
  elementCount=stream.readInt();
  for (int i=elementCount; --i >= 0; ) {
    Object key=stream.readObject();
    int hash=key.hashCode();
    int index=(hash & 0x7FFFFFFF) % length;
    if (index < firstSlot) {
      firstSlot=index;
    }
    if (index > lastSlot) {
      lastSlot=index;
    }
    Entry<K,V> entry=newEntry((K)key,(V)stream.readObject(),hash);
    entry.next=elementData[index];
    elementData[index]=entry;
  }
}
