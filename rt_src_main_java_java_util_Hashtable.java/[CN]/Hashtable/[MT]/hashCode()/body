{
  int result=0;
  Iterator<Map.Entry<K,V>> it=entrySet().iterator();
  while (it.hasNext()) {
    Map.Entry<K,V> entry=it.next();
    Object key=entry.getKey();
    if (key == this) {
      continue;
    }
    Object value=entry.getValue();
    if (value == this) {
      continue;
    }
    int hash=(key != null ? key.hashCode() : 0) ^ (value != null ? value.hashCode() : 0);
    result+=hash;
  }
  return result;
}
