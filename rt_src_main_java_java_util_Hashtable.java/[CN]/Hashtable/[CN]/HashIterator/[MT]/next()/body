{
  if (expectedModCount == modCount) {
    if (lastEntry != null) {
      lastEntry=lastEntry.next;
    }
    if (lastEntry == null) {
      while (position >= firstSlot && (lastEntry=elementData[position]) == null) {
        position--;
      }
      if (lastEntry != null) {
        lastPosition=position;
        position--;
      }
    }
    if (lastEntry != null) {
      canRemove=true;
      return type.get(lastEntry);
    }
    throw new NoSuchElementException();
  }
  throw new ConcurrentModificationException();
}
