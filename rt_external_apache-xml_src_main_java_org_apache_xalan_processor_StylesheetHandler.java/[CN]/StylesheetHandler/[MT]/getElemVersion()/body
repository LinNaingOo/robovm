{
  ElemTemplateElement elem=getElemTemplateElement();
  double version=-1;
  while ((version == -1 || version == Constants.XSLTVERSUPPORTED) && elem != null) {
    try {
      version=Double.valueOf(elem.getXmlVersion()).doubleValue();
    }
 catch (    Exception ex) {
      version=-1;
    }
    elem=elem.getParentElem();
  }
  return (version == -1) ? Constants.XSLTVERSUPPORTED : version;
}
