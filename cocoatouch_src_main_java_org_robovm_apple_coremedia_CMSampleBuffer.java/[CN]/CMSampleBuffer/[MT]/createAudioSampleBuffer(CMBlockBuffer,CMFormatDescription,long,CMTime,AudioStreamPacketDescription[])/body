{
  long refconId=CMSampleBuffer.refconId.getAndIncrement();
  AudioStreamPacketDescription packetDescriptionPtr=Struct.allocate(AudioStreamPacketDescription.class,(int)numSamples);
  packetDescriptionPtr.update(packetDescriptions);
  CMSampleBufferPtr ptr=new CMSampleBufferPtr();
  CMSampleBufferError err=createAudioSampleBuffer(null,dataBuffer,formatDescription,numSamples,sbufPTS,packetDescriptionPtr,ptr);
  if (err == CMSampleBufferError.No) {
    CMSampleBuffer buffer=ptr.get();
    buffer.localRefconId=refconId;
    return buffer;
  }
  return null;
}
