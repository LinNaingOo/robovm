{
  if (sampleTimingArray == null) {
    throw new NullPointerException("sampleTimingArray");
  }
  if (sampleSizeArray == null) {
    throw new NullPointerException("sampleSizeArray");
  }
  long refconId=CMSampleBuffer.refconId.getAndIncrement();
  CMSampleTimingInfo sampleTimingPtr=Struct.allocate(CMSampleTimingInfo.class,sampleTimingArray.length);
  sampleTimingPtr.update(sampleTimingArray);
  MachineSizedUIntPtr sampleSizePtr=Struct.allocate(MachineSizedUIntPtr.class,sampleSizeArray.length);
  sampleSizePtr.set(sampleSizeArray);
  CMSampleBufferPtr ptr=new CMSampleBufferPtr();
  OSStatus status=createReady0(null,dataBuffer,formatDescription,numSamples,sampleTimingArray.length,sampleTimingPtr,sampleSizeArray.length,sampleSizePtr,ptr);
  if (OSStatusException.throwIfNecessary(status)) {
    CMSampleBuffer buffer=ptr.get();
    buffer.localRefconId=refconId;
    return buffer;
  }
  return null;
}
