{
  int first=string.charAt(0);
  int size=str.length();
  int delta;
  int i=((delta=size - from - charCount) > 0) ? from : from + delta;
  while (i >= to) {
    char ch=str.charAt(i);
    if (ch == first && startsWith(str,i)) {
      return i;
    }
    i-=rightToLeft.get(ch);
  }
  return -1;
}
