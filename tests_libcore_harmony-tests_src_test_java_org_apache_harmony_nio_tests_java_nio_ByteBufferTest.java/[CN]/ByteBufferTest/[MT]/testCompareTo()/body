{
  assertEquals(0,buf.compareTo(buf));
  if (!buf.isReadOnly()) {
    assertTrue(buf.capacity() > SMALL_TEST_LENGTH);
    buf.clear();
    ByteBuffer other=ByteBuffer.allocate(buf.capacity());
    loadTestData1(buf);
    loadTestData1(other);
    assertEquals(0,buf.compareTo(other));
    assertEquals(0,other.compareTo(buf));
    buf.position(1);
    assertTrue(buf.compareTo(other) > 0);
    assertTrue(other.compareTo(buf) < 0);
    other.position(2);
    assertTrue(buf.compareTo(other) < 0);
    assertTrue(other.compareTo(buf) > 0);
    buf.position(2);
    other.limit(SMALL_TEST_LENGTH);
    assertTrue(buf.compareTo(other) > 0);
    assertTrue(other.compareTo(buf) < 0);
  }
  assertTrue(ByteBuffer.wrap(new byte[21]).compareTo(ByteBuffer.allocateDirect(21)) == 0);
}
