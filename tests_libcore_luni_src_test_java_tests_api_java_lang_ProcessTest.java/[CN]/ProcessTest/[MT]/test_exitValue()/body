{
  try {
    String[] commands={"ls"};
    Process process=Runtime.getRuntime().exec(commands,null,null);
    try {
      Thread.sleep(5000);
    }
 catch (    Exception e) {
    }
    assertTrue(process.exitValue() == 0);
    String[] commandsSleep={"sleep","3"};
    process=Runtime.getRuntime().exec(commandsSleep,null,null);
    process.destroy();
    try {
      Thread.sleep(5000);
    }
 catch (    Exception e) {
    }
    assertTrue(process.exitValue() != 0);
    process=Runtime.getRuntime().exec(commandsSleep,null,null);
    try {
      process.exitValue();
      fail("IllegalThreadStateException was not thrown.");
    }
 catch (    IllegalThreadStateException itse) {
    }
  }
 catch (  IOException e) {
    fail("IOException was thrown.");
  }
}
