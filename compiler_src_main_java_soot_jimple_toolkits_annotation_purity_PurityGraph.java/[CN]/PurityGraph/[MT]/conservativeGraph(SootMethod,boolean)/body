{
  PurityGraph g=new PurityGraph();
  PurityNode glob=PurityGlobalNode.node;
  g.nodes.add(glob);
  Iterator it=m.getParameterTypes().iterator();
  int i=0;
  while (it.hasNext()) {
    if (it.next() instanceof RefLikeType) {
      PurityNode n=cacheNode(new PurityParamNode(i));
      g.globEscape.add(n);
      g.nodes.add(n);
      g.paramNodes.add(n);
    }
    i++;
  }
  if (m.getReturnType() instanceof RefLikeType)   g.ret.add(glob);
  if (withEffect)   g.mutated.put(glob,"outside-world");
  if (doCheck)   g.sanityCheck();
  return g;
}
