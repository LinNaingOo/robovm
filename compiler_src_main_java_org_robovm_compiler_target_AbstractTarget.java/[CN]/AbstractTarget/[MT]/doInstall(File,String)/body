{
  if (!config.getTmpDir().equals(installDir) || !executable.equals(config.getExecutableName())) {
    File destFile=new File(installDir,executable);
    FileUtils.copyFile(new File(config.getTmpDir(),config.getExecutableName()),destFile);
    destFile.setExecutable(true,false);
  }
  for (  File f : config.getOsArchDepLibDir().listFiles()) {
    if (f.getName().matches(".*\\.(so|dylib)(\\.1)?")) {
      FileUtils.copyFileToDirectory(f,installDir);
    }
  }
  stripArchives(installDir);
  copyResources(installDir);
  copyDynamicFrameworks(installDir);
}
