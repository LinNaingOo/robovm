{
  File f;
  if (folder != null) {
    f=new File(root.toString() + "/" + folder);
    if (!f.exists()) {
      f.mkdirs();
      f.deleteOnExit();
    }
  }
 else {
    f=root;
  }
  File dest=new File(f.toString() + "/" + file);
  InputStream in=Support_Resources.getStream(folder == null ? file : folder + "/" + file);
  try {
    copyLocalFileto(dest,in);
  }
 catch (  FileNotFoundException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
  return dest;
}
