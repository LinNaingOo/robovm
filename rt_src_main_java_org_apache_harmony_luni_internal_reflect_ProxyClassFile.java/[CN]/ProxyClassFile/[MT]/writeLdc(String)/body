{
  int index=constantPool.literalIndexForLdc(constant.toCharArray());
  if (index <= 0) {
    throw new InternalError();
  }
  if (index > 255) {
    writeUnsignedByte(OPC_ldc_w);
    writeUnsignedShort(index);
  }
 else {
    writeUnsignedByte(OPC_ldc);
    writeUnsignedByte(index);
  }
}
