{
  int methodCount=proxyMethods.length;
  writeUnsignedShort(methodCount + 2);
  writeUnsignedShort(AccPublic);
  writeUnsignedShort(constantPool.literalIndex(Init));
  if (ProxyConstructor == null) {
    try {
      ProxyConstructor=Proxy.class.getDeclaredConstructor(new Class[]{InvocationHandler.class});
    }
 catch (    NoSuchMethodException e) {
      throw new InternalError();
    }
  }
  writeUnsignedShort(constantPool.literalIndex(getConstantPoolName(ProxyConstructor)));
  writeUnsignedShort(1);
  writeUnsignedShort(constantPool.literalIndex(CodeName));
  int codeLength=6;
  writeUnsignedWord(12 + codeLength);
  writeUnsignedShort(2);
  writeUnsignedShort(2);
  writeUnsignedWord(codeLength);
  writeUnsignedByte(OPC_aload_0);
  writeUnsignedByte(OPC_aload_1);
  writeUnsignedByte(OPC_invokespecial);
  writeUnsignedShort(constantPool.literalIndex(ProxyConstructor));
  writeUnsignedByte(OPC_return);
  writeUnsignedShort(0);
  writeUnsignedShort(0);
  for (int i=0; i < methodCount; i++) {
    ProxyMethod pMethod=proxyMethods[i];
    Method method=pMethod.method;
    writeUnsignedShort(AccPublic | AccFinal);
    writeUnsignedShort(constantPool.literalIndex(method.getName().toCharArray()));
    writeUnsignedShort(constantPool.literalIndex(getConstantPoolName(method)));
    Class[] thrownsExceptions=pMethod.commonExceptions;
    int eLength=thrownsExceptions.length;
    if (eLength > 0) {
      writeUnsignedShort(2);
      writeUnsignedShort(constantPool.literalIndex(ExceptionsName));
      writeUnsignedWord(eLength * 2 + 2);
      writeUnsignedShort(eLength);
      for (int e=0; e < eLength; e++) {
        writeUnsignedShort(constantPool.typeIndex(thrownsExceptions[e].getName()));
      }
    }
 else {
      writeUnsignedShort(1);
    }
    generateCodeAttribute(pMethod,i);
  }
  writeStaticInitializer();
}
