{
  Object o1=new Object();
  Object o2=new Object();
  Object o3=new Object();
  Object o4=new Object();
  Object o5=new Object();
  HashChain<Object> h=new HashChain<>();
  h.addAll(Arrays.asList(o1,o2,o3,o4));
  assertEquals(h.followsOld(o1,o1),h.follows(o1,o1));
  assertEquals(h.followsOld(o2,o1),h.follows(o2,o1));
  assertEquals(h.followsOld(o1,o2),h.follows(o1,o2));
  assertEquals(h.followsOld(o1,o5),h.follows(o1,o5));
  assertEquals(h.followsOld(o1,null),h.follows(o1,null));
  try {
    h.followsOld(o5,o1);
    fail("NoSuchElementException expected");
  }
 catch (  NoSuchElementException e) {
  }
  try {
    h.follows(o5,o1);
    fail("NoSuchElementException expected");
  }
 catch (  NoSuchElementException e) {
  }
  assertEquals(h.followsOld(null,o1),h.follows(null,o1));
  assertEquals(h.followsOld(null,o5),h.follows(null,o5));
}
