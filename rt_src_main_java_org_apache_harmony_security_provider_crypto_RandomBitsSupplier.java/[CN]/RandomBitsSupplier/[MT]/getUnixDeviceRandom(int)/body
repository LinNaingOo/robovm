{
  byte[] bytes=new byte[numBytes];
  int total=0;
  int bytesRead;
  int offset=0;
  try {
    for (; ; ) {
      bytesRead=bis.read(bytes,offset,numBytes - total);
      if (bytesRead == -1) {
        throw new ProviderException(Messages.getString("security.193"));
      }
      total+=bytesRead;
      offset+=bytesRead;
      if (total >= numBytes) {
        break;
      }
    }
  }
 catch (  IOException e) {
    throw new ProviderException(Messages.getString("security.194"),e);
  }
  return bytes;
}
