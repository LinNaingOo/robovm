{
  MyCertificate c1=new MyCertificate("TEST_TYPE",testEncoding);
  MyCertificateRep rep=c1.new MyCertificateRep("TEST_TYPE",new byte[]{(byte)1,(byte)2,(byte)3});
  try {
    rep.readResolve();
    fail("ObjectStreamException expected");
  }
 catch (  ObjectStreamException e) {
  }
  MyCertificateRep rep1=c1.new MyCertificateRep("X509",TestUtils.getX509Certificate_v3());
  try {
    Certificate obj=(Certificate)rep1.readResolve();
    assertEquals("0.3.5",obj.getPublicKey().getAlgorithm());
    assertEquals("X.509",obj.getPublicKey().getFormat());
    assertEquals("X.509",obj.getType());
  }
 catch (  ObjectStreamException e) {
    fail("Unexpected ObjectStreamException " + e.getMessage());
  }
}
