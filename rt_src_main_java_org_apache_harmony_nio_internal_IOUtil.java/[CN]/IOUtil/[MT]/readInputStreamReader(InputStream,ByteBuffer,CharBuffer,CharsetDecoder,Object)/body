{
synchronized (lock) {
    if (in != null) {
      if (chars.limit() == chars.position()) {
        fillBuf(in,bytes,chars,decoder);
      }
      if (chars.limit() == 0) {
        return -1;
      }
      return chars.get();
    }
    throw new IOException(Messages.getString("nio.06"));
  }
}
