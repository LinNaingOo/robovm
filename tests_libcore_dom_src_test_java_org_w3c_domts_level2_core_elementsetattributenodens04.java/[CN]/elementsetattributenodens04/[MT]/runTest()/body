{
  Document doc;
  Element element1;
  Element element2;
  Attr attribute;
  Attr newAttribute;
  doc=(Document)load("staffNS",true);
  element1=doc.createElementNS("http://www.w3.org/DOM/Test","elem1");
  element2=doc.createElementNS("http://www.w3.org/DOM/Test","elem2");
  attribute=doc.createAttributeNS("http://www.w3.org/DOM/Test","attr");
  newAttribute=element1.setAttributeNodeNS(attribute);
{
    boolean success=false;
    try {
      newAttribute=element2.setAttributeNodeNS(attribute);
    }
 catch (    DOMException ex) {
      success=(ex.code == DOMException.INUSE_ATTRIBUTE_ERR);
    }
    assertTrue("elementsetattributenodens04",success);
  }
}
