{
  Pipe.SourceChannel sourceChannel=createNonBlockingChannel("abc".getBytes("UTF-8"));
  try {
    Channels.newReader(sourceChannel,"UTF-8").read();
    fail();
  }
 catch (  IllegalBlockingModeException expected) {
  }
}
