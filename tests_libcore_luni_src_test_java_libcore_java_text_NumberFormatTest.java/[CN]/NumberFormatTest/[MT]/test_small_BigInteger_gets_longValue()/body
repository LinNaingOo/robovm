{
class MyNumberFormat extends NumberFormat {
    public StringBuffer format(    double value,    StringBuffer b,    FieldPosition f){
      b.append("double");
      return b;
    }
    public StringBuffer format(    long value,    StringBuffer b,    FieldPosition f){
      b.append("long");
      return b;
    }
    public Number parse(    String string,    ParsePosition p){
      throw new UnsupportedOperationException();
    }
  }
  NumberFormat nf=new MyNumberFormat();
  assertEquals("long",nf.format(BigInteger.valueOf(Long.MAX_VALUE)));
  assertEquals("double",nf.format(BigInteger.valueOf(Long.MAX_VALUE).add(BigInteger.ONE)));
  assertEquals("long",nf.format(BigInteger.valueOf(Long.MIN_VALUE)));
  assertEquals("double",nf.format(BigInteger.valueOf(Long.MIN_VALUE).subtract(BigInteger.ONE)));
}
