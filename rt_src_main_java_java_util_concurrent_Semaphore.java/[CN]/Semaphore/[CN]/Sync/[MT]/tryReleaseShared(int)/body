{
  for (; ; ) {
    int p=getState();
    if (compareAndSetState(p,p + releases))     return true;
  }
}
