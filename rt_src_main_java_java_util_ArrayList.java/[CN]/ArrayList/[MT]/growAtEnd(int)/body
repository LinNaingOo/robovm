{
  if (array.length - size >= required) {
    if (size != 0) {
      System.arraycopy(array,firstIndex,array,0,size);
      int start=size < firstIndex ? firstIndex : size;
      Arrays.fill(array,start,array.length,null);
    }
    firstIndex=0;
  }
 else {
    int increment=size / 2;
    if (required > increment) {
      increment=required;
    }
    if (increment < 12) {
      increment=12;
    }
    E[] newArray=newElementArray(size + increment);
    if (size != 0) {
      System.arraycopy(array,firstIndex,newArray,0,size);
      firstIndex=0;
    }
    array=newArray;
  }
}
