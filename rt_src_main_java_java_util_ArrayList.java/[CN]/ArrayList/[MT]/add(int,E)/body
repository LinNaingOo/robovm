{
  if (location < 0 || location > size) {
    throw new IndexOutOfBoundsException(Messages.getString("luni.0A",Integer.valueOf(location),Integer.valueOf(size)));
  }
  if (location == 0) {
    if (firstIndex == 0) {
      growAtFront(1);
    }
    array[--firstIndex]=object;
  }
 else   if (location == size) {
    if (firstIndex + size == array.length) {
      growAtEnd(1);
    }
    array[firstIndex + size]=object;
  }
 else {
    if (size == array.length) {
      growForInsert(location,1);
    }
 else     if (firstIndex + size == array.length || (firstIndex > 0 && location < size / 2)) {
      System.arraycopy(array,firstIndex,array,--firstIndex,location);
    }
 else {
      int index=location + firstIndex;
      System.arraycopy(array,index,array,index + 1,size - location);
    }
    array[location + firstIndex]=object;
  }
  size++;
  modCount++;
}
