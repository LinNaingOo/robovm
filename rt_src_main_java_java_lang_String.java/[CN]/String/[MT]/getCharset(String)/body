{
  Charset charset=lastCharset;
  if (charset == null || !encoding.equalsIgnoreCase(charset.name())) {
    try {
      charset=Charset.forName(encoding);
    }
 catch (    IllegalCharsetNameException e) {
      throw (UnsupportedEncodingException)(new UnsupportedEncodingException(encoding).initCause(e));
    }
catch (    UnsupportedCharsetException e) {
      throw (UnsupportedEncodingException)(new UnsupportedEncodingException(encoding).initCause(e));
    }
    lastCharset=charset;
  }
  return charset;
}
