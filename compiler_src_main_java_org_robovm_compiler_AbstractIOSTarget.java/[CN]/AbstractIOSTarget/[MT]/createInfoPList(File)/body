{
  NSDictionary dict=new NSDictionary();
  if (infoPListDict != null) {
    for (    String key : infoPListDict.allKeys()) {
      dict.put(key,infoPListDict.objectForKey(key));
    }
  }
  if (dict.objectForKey("CFBundleExecutable") == null) {
    dict.put("CFBundleExecutable",config.getExecutable());
  }
  if (dict.objectForKey("CFBundleName") == null) {
    dict.put("CFBundleName",config.getExecutable());
  }
  if (dict.objectForKey("CFBundleIdentifier") == null) {
    String value=config.getMainClass() != null ? config.getMainClass() : config.getExecutable();
    dict.put("CFBundleIdentifier",value);
  }
  customizeInfoPList(dict);
  File tmpInfoPlist=new File(config.getTmpDir(),"Info.plist");
  PropertyListParser.saveAsBinary(dict,tmpInfoPlist);
  config.getLogger().debug("Installing Info.plist to %s",dir);
  FileUtils.copyFile(tmpInfoPlist,new File(dir,tmpInfoPlist.getName()));
}
