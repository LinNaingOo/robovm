{
  if (other.sp != sp) {
    throw new verify.VerificationException("Different stack pointers");
  }
  for (int i=0; i < sp; i++) {
    if (storage[i] != other.storage[i])     return false;
  }
  for (int i=max_stack(); i < storage.length; i++) {
    if (storage[i] != other.storage[i])     return false;
  }
  return true;
}
