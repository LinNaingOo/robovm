{
  if (throwExceptionOnNextUse) {
    throw new IOException("Exception thrown for testing purpose.");
  }
  if (offset < 0 || count < 0 || (offset + count) > buf.length) {
    throw new IndexOutOfBoundsException();
  }
  try {
    System.arraycopy(src,offset,buf,pos,count);
    pos+=count;
  }
 catch (  IndexOutOfBoundsException e) {
    pos=size;
    throw new IOException("Internal Buffer Overflow");
  }
}
