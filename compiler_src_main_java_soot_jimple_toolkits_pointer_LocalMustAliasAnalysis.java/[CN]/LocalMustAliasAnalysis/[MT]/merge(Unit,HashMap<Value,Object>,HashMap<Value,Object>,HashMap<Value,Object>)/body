{
  for (  Value l : localsAndFieldRefs) {
    Object i1=inMap1.get(l), i2=inMap2.get(l);
    if (i1.equals(i2))     outMap.put(l,i1);
 else     if (i1 == NOTHING)     outMap.put(l,i2);
 else     if (i2 == NOTHING)     outMap.put(l,i1);
 else {
      Map<Value,Integer> valueToNumber=mergePointToValueToNumber.get(succUnit);
      if (valueToNumber == null) {
        valueToNumber=new HashMap<Value,Integer>();
        mergePointToValueToNumber.put(succUnit,valueToNumber);
      }
      Integer number=valueToNumber.get(l);
      if (number == null) {
        number=nextNumber++;
        valueToNumber.put(l,number);
      }
      outMap.put(l,number);
    }
  }
}
