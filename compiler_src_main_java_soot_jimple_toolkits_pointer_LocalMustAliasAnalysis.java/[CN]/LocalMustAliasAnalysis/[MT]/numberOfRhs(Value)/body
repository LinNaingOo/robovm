{
  EquivalentValue equivValue=new EquivalentValue(rhs);
  if (localsAndFieldRefs.contains(equivValue)) {
    rhs=equivValue;
  }
  Integer num=rhsToNumber.get(rhs);
  if (num == null) {
    num=nextNumber++;
    rhsToNumber.put(rhs,num);
  }
  return num;
}
