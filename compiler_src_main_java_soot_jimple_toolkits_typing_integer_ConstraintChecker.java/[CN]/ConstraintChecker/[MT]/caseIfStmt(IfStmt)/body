{
  ConditionExpr cond=(ConditionExpr)stmt.getCondition();
  BinopExpr expr=cond;
  Value lv=expr.getOp1();
  Value rv=expr.getOp2();
  TypeNode lop=null;
  TypeNode rop=null;
  if (lv instanceof Local) {
    if (((Local)lv).getType() instanceof IntegerType) {
      lop=ClassHierarchy.v().typeNode(((Local)lv).getType());
    }
  }
 else   if (lv instanceof DoubleConstant) {
  }
 else   if (lv instanceof FloatConstant) {
  }
 else   if (lv instanceof IntConstant) {
    int value=((IntConstant)lv).value;
    if (value < -32768) {
      lop=ClassHierarchy.v().INT;
    }
 else     if (value < -128) {
      lop=ClassHierarchy.v().SHORT;
    }
 else     if (value < 0) {
      lop=ClassHierarchy.v().BYTE;
    }
 else     if (value < 2) {
      lop=ClassHierarchy.v().R0_1;
    }
 else     if (value < 128) {
      lop=ClassHierarchy.v().R0_127;
    }
 else     if (value < 32768) {
      lop=ClassHierarchy.v().R0_32767;
    }
 else     if (value < 65536) {
      lop=ClassHierarchy.v().CHAR;
    }
 else {
      lop=ClassHierarchy.v().INT;
    }
  }
 else   if (lv instanceof LongConstant) {
  }
 else   if (lv instanceof NullConstant) {
  }
 else   if (lv instanceof StringConstant) {
  }
 else   if (lv instanceof ClassConstant) {
  }
 else {
    throw new RuntimeException("Unhandled binary expression left operand type: " + lv.getClass());
  }
  if (rv instanceof Local) {
    if (((Local)rv).getType() instanceof IntegerType) {
      rop=ClassHierarchy.v().typeNode(((Local)rv).getType());
    }
  }
 else   if (rv instanceof DoubleConstant) {
  }
 else   if (rv instanceof FloatConstant) {
  }
 else   if (rv instanceof IntConstant) {
    int value=((IntConstant)rv).value;
    if (value < -32768) {
      rop=ClassHierarchy.v().INT;
    }
 else     if (value < -128) {
      rop=ClassHierarchy.v().SHORT;
    }
 else     if (value < 0) {
      rop=ClassHierarchy.v().BYTE;
    }
 else     if (value < 2) {
      rop=ClassHierarchy.v().R0_1;
    }
 else     if (value < 128) {
      rop=ClassHierarchy.v().R0_127;
    }
 else     if (value < 32768) {
      rop=ClassHierarchy.v().R0_32767;
    }
 else     if (value < 65536) {
      rop=ClassHierarchy.v().CHAR;
    }
 else {
      rop=ClassHierarchy.v().INT;
    }
  }
 else   if (rv instanceof LongConstant) {
  }
 else   if (rv instanceof NullConstant) {
  }
 else   if (rv instanceof StringConstant) {
  }
 else   if (rv instanceof ClassConstant) {
  }
 else {
    throw new RuntimeException("Unhandled binary expression right operand type: " + rv.getClass());
  }
  if (lop != null && rop != null) {
    if (lop.lca_1(rop) == ClassHierarchy.v().TOP) {
      if (fix) {
        if (!lop.hasAncestor_1(ClassHierarchy.v().INT)) {
          expr.setOp1(insertCast(expr.getOp1(),getTypeForCast(lop),getTypeForCast(rop),stmt));
        }
        if (!rop.hasAncestor_1(ClassHierarchy.v().INT)) {
          expr.setOp2(insertCast(expr.getOp2(),getTypeForCast(rop),getTypeForCast(lop),stmt));
        }
      }
 else {
        error("Type Error(17)");
      }
    }
  }
}
