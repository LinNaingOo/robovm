{
  String xml="<!DOCTYPE foo [" + "<!ENTITY example \"<p>An ampersand (&#38;#38;) may be escaped\n" + "numerically (&#38;#38;#38;) or with a general entity\n"+ "(&amp;amp;).</p>\" >"+ "]><foo>&example;</foo>";
  XmlPullParser parser=newPullParser(xml);
  assertEquals(XmlPullParser.START_TAG,parser.next());
  assertEquals(XmlPullParser.START_TAG,parser.next());
  assertEquals("p",parser.getName());
  assertEquals(XmlPullParser.TEXT,parser.next());
  assertEquals("An ampersand (&) may be escaped\n" + "numerically (&#38;) or with a general entity\n" + "(&amp;).",parser.getText());
  assertEquals(XmlPullParser.END_TAG,parser.next());
  assertEquals("p",parser.getName());
  assertEquals(XmlPullParser.END_TAG,parser.next());
  assertEquals(XmlPullParser.END_DOCUMENT,parser.next());
}
