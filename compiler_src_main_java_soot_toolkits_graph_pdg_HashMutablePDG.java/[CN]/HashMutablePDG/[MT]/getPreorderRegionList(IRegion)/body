{
  List<IRegion> list=new ArrayList<IRegion>();
  Queue<IRegion> toProcess=new LinkedList<IRegion>();
  toProcess.add(r);
  while (!toProcess.isEmpty()) {
    IRegion reg=toProcess.poll();
    list.add(reg);
    for (Iterator<IRegion> itr=reg.getChildRegions().iterator(); itr.hasNext(); )     toProcess.add((Region)itr.next());
  }
  return list;
}
