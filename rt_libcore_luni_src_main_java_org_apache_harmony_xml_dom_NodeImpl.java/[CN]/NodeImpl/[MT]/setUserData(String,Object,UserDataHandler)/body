{
  if (key == null) {
    throw new NullPointerException("key == null");
  }
  Map<String,UserData> map=document.getUserDataMap(this);
  UserData previous=data == null ? map.remove(key) : map.put(key,new UserData(data,handler));
  return previous != null ? previous.value : null;
}
