{
  Selector acceptSelector=SelectorProvider.provider().openSelector();
  ServerSocketChannel ssc=ServerSocketChannel.open();
  ssc.configureBlocking(false);
  assertFalse(ssc.isRegistered());
  SelectionKey acceptKey=ssc.register(acceptSelector,SelectionKey.OP_ACCEPT);
  assertTrue(ssc.isRegistered());
  assertNotNull(acceptKey);
  assertTrue(acceptSelector.keys().contains(acceptKey));
}
