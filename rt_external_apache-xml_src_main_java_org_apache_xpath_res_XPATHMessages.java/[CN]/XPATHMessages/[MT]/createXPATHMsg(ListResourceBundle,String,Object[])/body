{
  String fmsg=null;
  boolean throwex=false;
  String msg=null;
  if (msgKey != null)   msg=fResourceBundle.getString(msgKey);
  if (msg == null) {
    msg=fResourceBundle.getString(XPATHErrorResources.BAD_CODE);
    throwex=true;
  }
  if (args != null) {
    try {
      int n=args.length;
      for (int i=0; i < n; i++) {
        if (null == args[i])         args[i]="";
      }
      fmsg=java.text.MessageFormat.format(msg,args);
    }
 catch (    Exception e) {
      fmsg=fResourceBundle.getString(XPATHErrorResources.FORMAT_FAILED);
      fmsg+=" " + msg;
    }
  }
 else   fmsg=msg;
  if (throwex) {
    throw new RuntimeException(fmsg);
  }
  return fmsg;
}
