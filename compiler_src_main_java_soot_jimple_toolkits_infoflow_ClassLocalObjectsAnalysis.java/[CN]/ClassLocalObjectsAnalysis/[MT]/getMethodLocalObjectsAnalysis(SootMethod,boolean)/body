{
  if (includePrimitiveDataFlowIfAvailable && primitiveDfa != null) {
    Body b=sm.retrieveActiveBody();
    UnitGraph g=new ExceptionalUnitGraph(b);
    return new SmartMethodLocalObjectsAnalysis(g,primitiveDfa);
  }
 else   if (!methodToMethodLocalObjectsAnalysis.containsKey(sm)) {
    Body b=sm.retrieveActiveBody();
    UnitGraph g=new ExceptionalUnitGraph(b);
    SmartMethodLocalObjectsAnalysis smloa=new SmartMethodLocalObjectsAnalysis(g,dfa);
    methodToMethodLocalObjectsAnalysis.put(sm,smloa);
  }
  return methodToMethodLocalObjectsAnalysis.get(sm);
}
