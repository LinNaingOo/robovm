{
  if (type == null) {
    throw new NullPointerException("type == null");
  }
 else   if (algorithm == null) {
    throw new NullPointerException("algorithm == null");
  }
  if (type.equals(lastServiceName) && algorithm.equalsIgnoreCase(lastAlgorithm)) {
    return returnedService;
  }
  String key=key(type,algorithm);
  Object o=null;
  if (serviceTable != null) {
    o=serviceTable.get(key);
  }
  if (o == null && aliasTable != null) {
    o=aliasTable.get(key);
  }
  if (o == null) {
    updatePropertyServiceTable();
  }
  if (o == null && propertyServiceTable != null) {
    o=propertyServiceTable.get(key);
  }
  if (o == null && propertyAliasTable != null) {
    o=propertyAliasTable.get(key);
  }
  if (o != null) {
    lastServiceName=type;
    lastAlgorithm=algorithm;
    returnedService=(Provider.Service)o;
    return returnedService;
  }
  return null;
}
