{
  checkClosedAndCreate(true);
  if (on && timeout < 0) {
    throw new IllegalArgumentException(Messages.getString("luni.76"));
  }
  int val=on ? (65535 < timeout ? 65535 : timeout) : -1;
  impl.setOption(SocketOptions.SO_LINGER,Integer.valueOf(val));
}
