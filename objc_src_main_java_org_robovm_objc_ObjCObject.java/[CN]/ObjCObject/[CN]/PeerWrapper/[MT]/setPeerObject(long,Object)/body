{
  if (o == null) {
    ObjCRuntime.objc_setAssociatedObject(handle,PEER_OBJECT_KEY,0L,0);
  }
 else {
    long peerWrapper=ObjCRuntime.ptr_objc_msgSend(CLS,alloc.getHandle());
    if (peerWrapper == 0L) {
      throw new OutOfMemoryError();
    }
    peerWrapper=ObjCRuntime.ptr_objc_msgSend(peerWrapper,init.getHandle());
    long address=VM.getObjectAddress(o);
    VM.setPointer(peerWrapper + PEER_IVAR_OFFSET,address);
    VM.registerDisappearingLink(peerWrapper + PEER_IVAR_OFFSET,o);
    ObjCRuntime.objc_setAssociatedObject(handle,PEER_OBJECT_KEY,peerWrapper,OBJC_ASSOCIATION_RETAIN_NONATOMIC);
    System.out.println("RoboVMPeerWrapper " + Long.toHexString(peerWrapper) + " associated with "+ Long.toHexString(handle)+ " a "+ o.getClass().getName());
  }
}
