{
  if (!isOpen()) {
    throw new ClosedChannelException();
  }
  if (!isBound) {
    throw new NotYetBoundException();
  }
  SocketChannel sockChannel=new SocketChannelImpl(SelectorProvider.provider(),false);
  Socket socketGot=sockChannel.socket();
  try {
    begin();
synchronized (acceptLock) {
      boolean isBlocking=isBlocking();
      if (!isBlocking) {
        int[] tryResult=new int[1];
        boolean success=Platform.getNetworkSystem().select(new FileDescriptor[]{this.fd},new FileDescriptor[0],1,0,0,tryResult);
        if (!success || 0 == tryResult[0]) {
          return null;
        }
      }
      do {
        try {
          ((ServerSocketAdapter)socket).accept(socketGot,(SocketChannelImpl)sockChannel);
          break;
        }
 catch (        SocketTimeoutException e) {
        }
      }
 while (isBlocking);
    }
  }
  finally {
    end(socketGot.isConnected());
  }
  return sockChannel;
}
