{
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ExecuteStreamHandler streamHandler=new PumpStreamHandler(baos);
  Executor executor=new DefaultExecutor();
  executor.setStreamHandler(streamHandler);
  CommandLine command=createCommandLine(cmd,args);
  executor.setExitValues(new int[]{0,1});
  executor.execute(command,EnvironmentUtils.getProcEnvironment());
  return new String(baos.toByteArray());
}
