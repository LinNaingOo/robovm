{
  if (last == null) {
    root=last=createNode(key,value);
    size=1;
  }
 else   if (last.size == Node.NODE_SIZE) {
    Node<K,V> newNode=createNode(key,value);
    attachToRight(last,newNode);
    balance(newNode);
    size++;
    last=newNode;
  }
 else {
    appendFromRight(last,key,value);
    size++;
  }
  return last;
}
