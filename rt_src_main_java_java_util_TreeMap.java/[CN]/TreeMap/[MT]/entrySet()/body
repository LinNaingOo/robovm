{
  if (entrySet == null) {
    entrySet=new AbstractSet<Map.Entry<K,V>>(){
      @Override public int size(){
        return size;
      }
      @Override public void clear(){
        TreeMap.this.clear();
      }
      @SuppressWarnings("unchecked") @Override public boolean contains(      Object object){
        if (object instanceof Map.Entry) {
          Map.Entry<K,V> entry=(Map.Entry<K,V>)object;
          K key=entry.getKey();
          Object v1=get(key), v2=entry.getValue();
          return v1 == null ? (v2 == null && TreeMap.this.containsKey(key)) : v1.equals(v2);
        }
        return false;
      }
      @Override public Iterator<Map.Entry<K,V>> iterator(){
        return new UnboundedEntryIterator<K,V>(TreeMap.this);
      }
    }
;
  }
  return entrySet;
}
