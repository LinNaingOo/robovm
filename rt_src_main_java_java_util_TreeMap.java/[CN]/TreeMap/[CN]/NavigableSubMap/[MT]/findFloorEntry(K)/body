{
  TreeMap.Entry<K,V> node=findFloorEntryImpl(key);
  if (node == null) {
    return null;
  }
  if (!checkUpperBound(node.key)) {
    node=findEndNode();
  }
  if (node != null && fromStart && !checkLowerBound(node.key)) {
    Comparable<K> object=m.comparator == null ? toComparable((K)key) : null;
    if (cmp(object,key,this.lo) > 0) {
      node=findStartNode();
      if (node == null || cmp(object,key,node.key) < 0) {
        return null;
      }
    }
 else {
      node=null;
    }
  }
  return node;
}
