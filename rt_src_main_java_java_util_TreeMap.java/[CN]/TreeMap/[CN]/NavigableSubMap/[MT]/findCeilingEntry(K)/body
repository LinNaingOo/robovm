{
  TreeMap.Entry<K,V> node=findCeilingEntryImpl(key);
  if (null == node) {
    return null;
  }
  if (toEnd && !checkUpperBound(node.key)) {
    Comparable<K> object=m.comparator == null ? toComparable((K)key) : null;
    if (cmp(object,key,this.hi) < 0) {
      node=findEndNode();
      if (node != null && cmp(object,key,node.key) > 0) {
        return null;
      }
    }
 else {
      return null;
    }
  }
  if (node != null && !checkLowerBound(node.key)) {
    node=findStartNode();
  }
  return node;
}
