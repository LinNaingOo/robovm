{
  if (map.fromStart && ((!map.loInclusive && startInclusive) ? map.m.keyCompare(start,map.lo) <= 0 : map.m.keyCompare(start,map.lo) < 0) || (map.toEnd && ((!map.hiInclusive && (endInclusive || (startInclusive && start.equals(end)))) ? map.m.keyCompare(end,map.hi) >= 0 : map.m.keyCompare(end,map.hi) > 0))) {
    throw new IllegalArgumentException();
  }
  if (map.m.keyCompare(start,end) > 0) {
    throw new IllegalArgumentException();
  }
  return new AscendingSubMapKeySet<K,V>(new AscendingSubMap<K,V>(start,startInclusive,map.m,end,endInclusive));
}
