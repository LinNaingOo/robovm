{
  if (!hasNext()) {
    throw new NoSuchElementException();
  }
  if (node != null) {
    boolean endOfIterator=lastNode == finalNode && lastOffset == finalOffset;
    if (endOfIterator) {
      node=null;
    }
 else {
      if (expectedModCount != backingMap.modCount) {
        throw new ConcurrentModificationException();
      }
 else       if (node == null) {
        throw new NoSuchElementException();
      }
      lastNode=node;
      lastOffset=offset;
      if (offset != node.left_idx) {
        offset--;
      }
 else {
        node=node.prev;
        if (node != null) {
          offset=node.right_idx;
        }
      }
    }
  }
  return lastNode.values[lastOffset];
}
