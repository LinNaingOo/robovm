{
  if (startEntry != null) {
    hasStart=true;
    this.startEntry=startEntry;
    this.startInclusive=startInclusive;
  }
  if (endEntry != null) {
    hasEnd=true;
    this.lastentry=endEntry;
    this.endInclusive=endInclusive;
  }
  if (startEntry != null && endEntry != null) {
    this.map=(NavigableSubMap<K,V>)map.subMap(startEntry.getKey(),startInclusive,endEntry.getKey(),endInclusive);
    return;
  }
  if (startEntry != null) {
    this.map=(NavigableSubMap<K,V>)map.tailMap(startEntry.getKey(),startInclusive);
    return;
  }
  if (endEntry != null) {
    this.map=(NavigableSubMap<K,V>)map.headMap(endEntry.getKey(),endInclusive);
    return;
  }
  this.map=map;
}
