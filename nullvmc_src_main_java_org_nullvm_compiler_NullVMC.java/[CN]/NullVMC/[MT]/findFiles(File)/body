{
  List<File> result=new ArrayList<File>();
  for (  File f : dir.listFiles()) {
    if (f.isDirectory()) {
      result.addAll(findFiles(f));
    }
 else     if (pattern.matcher(f.getName()).matches()) {
      result.add(f);
    }
  }
  return result;
}
