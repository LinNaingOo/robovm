{
  InetAddress normalAddr=anAddr.isAnyLocalAddress() ? InetAddress.getLocalHost() : anAddr;
  try {
    if (streaming) {
      if (NetUtil.usingSocks(proxy)) {
        socksConnect(anAddr,aPort,0);
      }
 else {
        if (timeout == 0) {
          netImpl.connect(fd,trafficClass,normalAddr,aPort);
        }
 else {
          netImpl.connectStreamWithTimeoutSocket(fd,aPort,timeout,trafficClass,normalAddr);
        }
      }
    }
 else {
      netImpl.connectDatagram(fd,aPort,trafficClass,normalAddr);
    }
  }
 catch (  ConnectException e) {
    throw new ConnectException(anAddr + ":" + aPort+ " - "+ e.getMessage());
  }
  super.address=normalAddr;
  super.port=aPort;
}
