{
  if (permission == null) {
    throw new NullPointerException(Messages.getString("security.21"));
  }
  if (allEnabled) {
    return true;
  }
  Class klass=permission.getClass();
  PermissionCollection klassMates=null;
  UnresolvedPermissionCollection billets=(UnresolvedPermissionCollection)klasses.get(UnresolvedPermission.class);
  if (billets != null && billets.hasUnresolved(permission)) {
synchronized (klasses) {
      klassMates=(PermissionCollection)klasses.get(klass);
      try {
        klassMates=billets.resolveCollection(permission,klassMates);
      }
 catch (      Exception ignore) {
        ignore.printStackTrace();
      }
      if (klassMates != null) {
        klasses.put(klass,klassMates);
        if (klass == AllPermission.class) {
          allEnabled=true;
        }
      }
    }
  }
 else {
    klassMates=(PermissionCollection)klasses.get(klass);
  }
  if (klassMates != null) {
    return klassMates.implies(permission);
  }
  return false;
}
