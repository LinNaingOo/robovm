{
  IdentityScopeSubclass sub=new IdentityScopeSubclass("test",new IdentityScopeSubclass());
  Identity id=new IdentitySubclass();
  id.setPublicKey(getPubKey());
  sub.addIdentity(id);
  Identity returnedId=sub.getIdentity(getPubKey());
  assertEquals("Test 1: Returned Identity not the same as the added one;",id,returnedId);
  assertNull("Test 2: Null value expected.",sub.getIdentity((PublicKey)null));
  PublicKey anotherKey=KeyPairGenerator.getInstance("DSA").genKeyPair().getPublic();
  assertNull("Test 3: Null value expected.",sub.getIdentity(anotherKey));
}
