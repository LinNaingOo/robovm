{
  final NodeList children=node.getChildNodes();
  final HashMap<String,NSObject> result=new HashMap<String,NSObject>();
  String key=null;
  for (int i=0; i < children.getLength(); i++) {
    if (children.item(i).getNodeType() == Node.TEXT_NODE) {
      if (children.item(i).getTextContent().trim().length() > 0)       throw new PropertyListException("Unexpected text content in NSDictionary node.");
    }
 else {
      if (key == null)       key=parseKey(children.item(i));
 else {
        result.put(key,parseNode(children.item(i)));
        key=null;
      }
    }
  }
  return new NSDictionary(result);
}
