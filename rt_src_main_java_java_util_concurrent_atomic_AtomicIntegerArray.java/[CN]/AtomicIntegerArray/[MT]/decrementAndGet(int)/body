{
  while (true) {
    int current=get(i);
    int next=current - 1;
    if (compareAndSet(i,current,next))     return next;
  }
}
