{
  return AccessController.doPrivileged(new PrivilegedAction<Class<?>>(){
    public Class<?> run(){
      Class<?> objClass=obj.getClass();
      while (objClass != null) {
        try {
          Class<?> fc=objClass.getDeclaredField(fieldName).getType();
          return fc;
        }
 catch (        NoSuchFieldException e) {
        }
        objClass=objClass.getSuperclass();
      }
      return null;
    }
  }
);
}
