{
  createInfoPList(installDir);
  generateDsym(installDir,getExecutable(),false);
  if (isDeviceArch(arch)) {
    if (!config.isDebug()) {
      strip(installDir,getExecutable());
    }
    if (config.isIosSkipSigning()) {
      config.getLogger().warn("Skipping code signing. The resulting app will " + "be unsigned and will not run on unjailbroken devices");
      ldid(entitlementsPList,installDir);
    }
 else {
      copyProvisioningProfile(provisioningProfile,installDir);
      boolean getTaskAllow=provisioningProfile.getType() == Type.Development;
      signFrameworks(installDir,getTaskAllow);
      codesignApp(signIdentity,getOrCreateEntitlementsPList(getTaskAllow,getBundleId()),installDir);
      new Executor(config.getLogger(),"ln").args("-f","-s","_CodeSignature/CodeResources",new File(installDir,"CodeResources")).exec();
    }
  }
}
