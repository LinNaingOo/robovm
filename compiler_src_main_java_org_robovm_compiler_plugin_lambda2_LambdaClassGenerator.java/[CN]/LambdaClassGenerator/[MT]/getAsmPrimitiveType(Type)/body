{
  if (isBoxedType(type)) {
    String className=type.toString();
    if ("java.lang.Boolean".equals(className)) {
      return org.objectweb.asm.Type.BOOLEAN_TYPE;
    }
 else     if ("java.lang.Byte".equals(className)) {
      return org.objectweb.asm.Type.BYTE_TYPE;
    }
 else     if ("java.lang.Character".equals(className)) {
      return org.objectweb.asm.Type.CHAR_TYPE;
    }
 else     if ("java.lang.Short".equals(className)) {
      return org.objectweb.asm.Type.SHORT_TYPE;
    }
 else     if ("java.lang.Integer".equals(className)) {
      return org.objectweb.asm.Type.INT_TYPE;
    }
 else     if ("java.lang.Long".equals(className)) {
      return org.objectweb.asm.Type.LONG_TYPE;
    }
 else     if ("java.lang.Float".equals(className)) {
      return org.objectweb.asm.Type.FLOAT_TYPE;
    }
 else     if ("java.lang.Double".equals(className)) {
      return org.objectweb.asm.Type.DOUBLE_TYPE;
    }
 else {
      throw new CompilerException("Unknown primitive type " + type);
    }
  }
 else {
    return org.objectweb.asm.Type.getType(Types.getDescriptor(type));
  }
}
