{
  Reference<? extends T> ref;
synchronized (this) {
    if (empty) {
      return null;
    }
    ref=references[head++];
    ref.dequeue();
    if (head == references.length) {
      head=0;
    }
    if (head == tail) {
      empty=true;
    }
  }
  return ref;
}
