{
  install(getChain()[1],alias1);
  install(getChain()[2],alias2);
  assertIntermediateCa(getChain()[1],alias1);
  assertRootCa(getChain()[2],alias2);
  assertAliases(alias1,alias2);
  assertEquals(getChain()[2],store.findIssuer(getChain()[1]));
  assertEquals(getChain()[1],store.findIssuer(getChain()[0]));
  X509Certificate[] expected=getChain();
  List<X509Certificate> actualList=store.getCertificateChain(expected[0]);
  assertEquals("Generated CA list should be same length",expected.length,actualList.size());
  for (int i=0; i < expected.length; i++) {
    assertEquals("Chain value should be the same for position " + i,expected[i],actualList.get(i));
  }
  resetStore();
}
