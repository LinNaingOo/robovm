{
  Throwable t;
  if ((t=r.getThrown()) != null) {
    sb.append(indent).append("<exception>").append(lineSeperator);
{
      sb.append(indent).append(indent).append("<message>").append(convertSpecialSymbol(t.toString())).append("</message>").append(lineSeperator);
      StackTraceElement[] elements=t.getStackTrace();
      for (      StackTraceElement e : elements) {
        sb.append(indent).append(indent).append("<frame>").append(lineSeperator);
{
          sb.append(indent).append(indent).append(indent).append("<class>").append(e.getClassName()).append("</class>").append(lineSeperator);
          sb.append(indent).append(indent).append(indent).append("<method>").append(convertSpecialSymbol(e.getMethodName())).append("</method>").append(lineSeperator);
          sb.append(indent).append(indent).append(indent).append("<line>").append(e.getLineNumber()).append("</line>").append(lineSeperator);
        }
        sb.append(indent).append(indent).append("</frame>").append(lineSeperator);
      }
    }
    sb.append(indent).append("</exception>").append(lineSeperator);
  }
}
