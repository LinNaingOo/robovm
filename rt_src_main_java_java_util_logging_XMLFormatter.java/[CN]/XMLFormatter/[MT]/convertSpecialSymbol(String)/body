{
  if (str == null) {
    return null;
  }
  StringBuilder sb=new StringBuilder();
  char[] chars=str.toCharArray();
  for (int index=0; index < chars.length; index++) {
    if ('<' == chars[index]) {
      sb.append("&lt;");
    }
 else     if ('>' == chars[index]) {
      sb.append("&gt;");
    }
 else     if ('&' == chars[index]) {
      sb.append("&amp;");
    }
 else {
      sb.append(chars[index]);
    }
  }
  return sb.toString();
}
