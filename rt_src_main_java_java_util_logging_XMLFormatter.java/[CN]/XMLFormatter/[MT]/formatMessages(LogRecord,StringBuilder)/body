{
  ResourceBundle rb=r.getResourceBundle();
  String pattern=r.getMessage();
  if (null != rb && null != pattern) {
    String message;
    try {
      message=rb.getString(pattern);
    }
 catch (    Exception e) {
      message=null;
    }
    if (message == null) {
      message=pattern;
      sb.append(indent).append("<message>").append(convertSpecialSymbol(message)).append("</message>").append(lineSeperator);
    }
 else {
      sb.append(indent).append("<message>").append(convertSpecialSymbol(message)).append("</message>").append(lineSeperator);
      sb.append(indent).append("<key>").append(convertSpecialSymbol(pattern)).append("</key>").append(lineSeperator);
      sb.append(indent).append("<catalog>").append(convertSpecialSymbol(r.getResourceBundleName())).append("</catalog>").append(lineSeperator);
    }
  }
 else   if (null != pattern) {
    sb.append(indent).append("<message>").append(convertSpecialSymbol(pattern)).append("</message>").append(lineSeperator);
  }
 else {
    sb.append(indent).append(("<message/>"));
  }
}
