{
  byte[] bytes={(byte)0xf5,(byte)0xa9,(byte)0xea,(byte)0x21};
  String expected="\ufffd\ufffd\u0021";
  CharsetDecoder decoder=Charset.forName("UTF-8").newDecoder();
  decoder.onMalformedInput(CodingErrorAction.REPLACE);
  assertEquals(expected,decoder.decode(ByteBuffer.wrap(bytes)).toString());
  assertEquals(expected,new String(bytes,"UTF-8"));
}
