{
  DiskLruCache.Editor creator=cache.edit("k1");
  creator.set(1,"A");
  try {
    creator.commit();
    fail();
  }
 catch (  IllegalStateException expected) {
  }
  assertFalse(getCleanFile("k1",0).exists());
  assertFalse(getCleanFile("k1",1).exists());
  assertFalse(getDirtyFile("k1",0).exists());
  assertFalse(getDirtyFile("k1",1).exists());
  assertNull(cache.get("k1"));
  DiskLruCache.Editor creator2=cache.edit("k1");
  creator2.set(0,"B");
  creator2.set(1,"C");
  creator2.commit();
}
