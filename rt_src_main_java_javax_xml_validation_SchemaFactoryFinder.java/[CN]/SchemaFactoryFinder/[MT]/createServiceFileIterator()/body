{
  if (classLoader == null) {
    return new SingleIterator(){
      protected Object value(){
        ClassLoader classLoader=SchemaFactoryFinder.class.getClassLoader();
        return SecuritySupport.getResourceAsURL(classLoader,SERVICE_ID);
      }
    }
;
  }
 else {
    try {
      final Enumeration e=SecuritySupport.getResources(classLoader,SERVICE_ID);
      if (debug && !e.hasMoreElements()) {
        debugPrintln("no " + SERVICE_ID + " file was found");
      }
      return new Iterator(){
        public void remove(){
          throw new UnsupportedOperationException();
        }
        public boolean hasNext(){
          return e.hasMoreElements();
        }
        public Object next(){
          return e.nextElement();
        }
      }
;
    }
 catch (    IOException e) {
      if (debug) {
        debugPrintln("failed to enumerate resources " + SERVICE_ID);
        e.printStackTrace();
      }
      return new ArrayList().iterator();
    }
  }
}
