{
  Ptr<Point> ptr1=Ptr.newPtr(Point.class).set(new Point().x(1).y(2));
  Ptr<Point> ptr2=ptr1.copyWithMalloc();
  try {
    assertTrue(ptr1.getHandle() != ptr2.getHandle());
    assertEquals(ptr1.get(),ptr2.get());
  }
  finally {
    ptr2.free();
  }
}
