{
  checkClosedAndBind(false);
  int localPort=0;
  InetAddress addr=InetAddress.ANY;
  if (localAddr != null) {
    if (!(localAddr instanceof InetSocketAddress)) {
      throw new IllegalArgumentException(Messages.getString("luni.49",localAddr.getClass()));
    }
    InetSocketAddress inetAddr=(InetSocketAddress)localAddr;
    addr=inetAddr.getAddress();
    if (addr == null) {
      throw new SocketException(Messages.getString("luni.1A",inetAddr.getHostName()));
    }
    localPort=inetAddr.getPort();
    checkListen(localPort);
  }
  impl.bind(localPort,addr);
  isBound=true;
}
