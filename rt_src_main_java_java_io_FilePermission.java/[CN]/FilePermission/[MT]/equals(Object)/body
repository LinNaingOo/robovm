{
  if (obj instanceof FilePermission) {
    FilePermission fp=(FilePermission)obj;
    if (fp.actions != actions) {
      if (fp.actions == null || !fp.actions.equals(actions)) {
        return false;
      }
    }
    if (fp.includeAll || includeAll) {
      return fp.includeAll == includeAll;
    }
    return fp.canonPath.equals(canonPath);
  }
  return false;
}
