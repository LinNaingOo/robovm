{
  NumberFormat nf1=NumberFormat.getInstance(Locale.US);
  nf1.setMaximumFractionDigits(Integer.MAX_VALUE);
  int result=nf1.getMaximumFractionDigits();
  assertTrue("setMaximumFractionDigits set " + result + " instead of Integer.MAX_VALUE",result == Integer.MAX_VALUE);
  nf1.setMaximumFractionDigits(0);
  result=nf1.getMaximumFractionDigits();
  assertTrue("setMaximumFractionDigits set " + result + " instead of 0",result == 0);
  assertEquals("format of 1234567890.0987654321 returns incorrect value","1,234,567,890",nf1.format(1234567890.0987654321));
  nf1.setMaximumFractionDigits(5);
  result=nf1.getMaximumFractionDigits();
  assertTrue("setMaximumFractionDigits set " + result + " instead of 5",result == 5);
  assertEquals("format of 1234567890.0987654321 returns incorrect value with MaximumFractionDigits = 5","1,234,567,890.09877",nf1.format(1234567890.0987654321));
  assertEquals("format of -1234567890 returns incorrect value with MaximumFractionDigits = 5","-1,234,567,890",nf1.format(-1234567890));
  nf1.setMaximumFractionDigits(Integer.MIN_VALUE);
  result=nf1.getMaximumFractionDigits();
  assertTrue("setMaximumFractionDigits set " + result + " instead of Integer.MIN_VALUE",result == 0);
  assertEquals("format of 1234567890.0987654321 returns incorrect value with MaximumFractionDigits = 5","1,234,567,890",nf1.format(1234567890.0987654321));
}
