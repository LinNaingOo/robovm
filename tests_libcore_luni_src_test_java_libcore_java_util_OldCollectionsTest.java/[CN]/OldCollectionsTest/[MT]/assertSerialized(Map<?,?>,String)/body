{
  new SerializationTester<Map<?,?>>(map,s){
    @SuppressWarnings("unchecked") @Override protected void verify(    Map<?,?> deserialized) throws Exception {
      try {
        ((Map)deserialized).put(Boolean.TRUE,"a");
        fail();
      }
 catch (      ClassCastException expected) {
      }
      try {
        ((Map)deserialized).put("a",Boolean.TRUE);
        fail();
      }
 catch (      ClassCastException expected) {
      }
    }
    @Override protected boolean equals(    Map<?,?> a,    Map<?,?> b){
      return super.equals(a,b) && (a instanceof SortedMap == b instanceof SortedMap);
    }
  }
.test();
}
