{
  final long SELECT_TIMEOUT_MS=2000;
  long t0=System.nanoTime();
  selector.select(SELECT_TIMEOUT_MS);
  long t1=System.nanoTime();
  long waitMs=(t1 - t0) / 1000L / 1000L;
  assertTrue(waitMs >= SELECT_TIMEOUT_MS);
  assertTrue(waitMs < 5 * SELECT_TIMEOUT_MS);
}
