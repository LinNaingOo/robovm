{
  ADDSTART: {
    List heads=graph.getHeads();
    if (heads.size() == 0)     break ADDSTART;
    if ((heads.size() == 1) && (heads.get(0) instanceof DummyBlock))     break ADDSTART;
    List blocks=graph.getBlocks();
    DummyBlock head=new DummyBlock(graph.getBody(),0);
    head.makeHeadBlock(heads);
    graph.mHeads=new SingletonList(head);
{
      Iterator blocksIt=blocks.iterator();
      while (blocksIt.hasNext()) {
        Block block=(Block)blocksIt.next();
        block.setIndexInMethod(block.getIndexInMethod() + 1);
      }
    }
    List newBlocks=new ArrayList();
    newBlocks.add(head);
    newBlocks.addAll(blocks);
    graph.mBlocks=newBlocks;
  }
  ADDSTOP: {
    List tails=graph.getTails();
    if (tails.size() == 0)     break ADDSTOP;
    if ((tails.size() == 1) && (tails.get(0) instanceof DummyBlock))     break ADDSTOP;
    List blocks=graph.getBlocks();
    DummyBlock tail=new DummyBlock(graph.getBody(),blocks.size());
    tail.makeTailBlock(tails);
    graph.mTails=new SingletonList(tail);
    blocks.add(tail);
  }
}
