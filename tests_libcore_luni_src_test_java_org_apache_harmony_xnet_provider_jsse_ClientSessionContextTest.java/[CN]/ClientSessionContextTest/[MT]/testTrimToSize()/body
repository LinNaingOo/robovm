{
  ClientSessionContext context=new ClientSessionContext();
  ValidSSLSession a=new ValidSSLSession("a");
  ValidSSLSession b=new ValidSSLSession("b");
  ValidSSLSession c=new ValidSSLSession("c");
  ValidSSLSession d=new ValidSSLSession("d");
  context.putSession(a);
  context.putSession(b);
  context.putSession(c);
  context.putSession(d);
  context.setSessionCacheSize(2);
  Set<SSLSession> sessions=new HashSet<SSLSession>();
  Enumeration ids=context.getIds();
  while (ids.hasMoreElements()) {
    sessions.add(context.getSession((byte[])ids.nextElement()));
  }
  Set<SSLSession> expected=new HashSet<SSLSession>();
  expected.add(c);
  expected.add(d);
  assertEquals(expected,sessions);
}
