{
  tokenEnd=0;
  boolean findComplete=false;
  while (!findComplete) {
    if (matcher.find()) {
      findComplete=true;
      if (matcher.start() == findStartIndex && matcher.start() == matcher.end()) {
        findComplete=false;
      }
    }
 else {
      if (!inputExhausted) {
        readMore();
        resetMatcher();
      }
 else {
        tokenStart=findStartIndex;
        tokenEnd=-1;
        return;
      }
    }
  }
  tokenStart=findStartIndex;
  tokenEnd=matcher.start();
  findStartIndex=matcher.start();
}
