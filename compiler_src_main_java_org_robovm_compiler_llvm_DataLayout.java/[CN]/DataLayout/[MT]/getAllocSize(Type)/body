{
  TargetMachine targetMachine=null;
  try {
    targetMachine=target.createTargetMachine(triple);
    return (int)targetMachine.getDataLayout().getTypeAllocSize(getTypeRef(type));
  }
  finally {
    if (targetMachine != null) {
      targetMachine.dispose();
    }
  }
}
