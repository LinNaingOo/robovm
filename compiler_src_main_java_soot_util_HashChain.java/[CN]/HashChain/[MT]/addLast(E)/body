{
  if (item == null)   throw new RuntimeException("Bad idea! You tried to insert " + " a null object into a Chain!");
  stateCount++;
  Link newLink, temp;
  if (map.containsKey(item))   throw new RuntimeException("Chain already contains object: " + item);
  if (lastItem != null) {
    temp=map.get(lastItem);
    newLink=temp.insertAfter(item);
  }
 else {
    newLink=new Link(item);
    firstItem=lastItem=item;
  }
  map.put(item,newLink);
}
