{
  assertEquals(192,StructWithArray.sizeOf());
  final int D1=24;
  StructWithArray s=new StructWithArray();
  BytePtr p=s.byteArrayAsPtr();
  BytePtr q;
  BytePtr r;
  assertEquals(s.getHandle(),p.getHandle());
  for (int i=0; i < D1; i++) {
    p.next(i).set((byte)(i + 1));
  }
  q=s.byteArrayAsPtr();
  for (int i=0; i < D1; i++) {
    assertEquals(i + 1,q.next(i).get());
  }
  r=Struct.allocate(BytePtr.class,D1);
  assertNotEquals(s.getHandle(),r.getHandle());
  for (int i=0; i < D1; i++) {
    r.next(i).set((byte)(2 * (i + 1)));
  }
  s.byteArrayAsPtr(r);
  for (int i=0; i < D1; i++) {
    assertEquals(2 * (i + 1),p.next(i).get() & 0xff);
  }
}
