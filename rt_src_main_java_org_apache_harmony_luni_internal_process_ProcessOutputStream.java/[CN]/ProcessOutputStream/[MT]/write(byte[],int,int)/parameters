byte[] buf
int offset
int nbytes
