{
  if (Options.v().src_prec() == Options.src_prec_class && Options.v().keep_line_number()) {
    LineNumberAdder lineNumAdder=LineNumberAdder.v();
    lineNumAdder.internalTransform("",null);
  }
  if (Options.v().whole_program() || Options.v().whole_shimple()) {
    runWholeProgramPacks();
  }
  retrieveAllBodies();
  if (soot.jbco.Main.metrics) {
    coffiMetrics();
    System.exit(0);
  }
  preProcessDAVA();
  if (Options.v().interactive_mode()) {
    if (InteractionHandler.v().getInteractionListener() == null) {
      G.v().out.println("Cannot run in interactive mode. No listeners available. Continuing in regular mode.");
      Options.v().set_interactive_mode(false);
    }
 else {
      G.v().out.println("Running in interactive mode.");
    }
  }
  runBodyPacks();
  handleInnerClasses();
}
