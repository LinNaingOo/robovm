{
  if (Options.v().output_jar()) {
    String outFileName=SourceLocator.v().getOutputDir();
    try {
      jarFile=new ZipOutputStream(new FileOutputStream(outFileName));
    }
 catch (    FileNotFoundException e) {
      throw new CompilationDeathException("Cannot open output Jar file " + outFileName);
    }
  }
 else {
    jarFile=null;
  }
  if (Options.v().verbose())   PhaseDumper.v().dumpBefore("output");
  if (Options.v().output_format() == Options.output_format_dava) {
    postProcessDAVA();
  }
 else {
    writeOutput(reachableClasses());
  }
  postProcessXML(reachableClasses());
  releaseBodies(reachableClasses());
  if (Options.v().verbose())   PhaseDumper.v().dumpAfter("output");
}
