{
  config.getLogger().debug("  " + commandLine.toString());
  Executor executor=new DefaultExecutor();
  if (wd != null) {
    executor.setWorkingDirectory(wd);
  }
  if (streamHandler != null) {
    executor.setStreamHandler(streamHandler);
  }
  if (env == null) {
    env=EnvironmentUtils.getProcEnvironment();
  }
  executor.setExitValue(0);
  return executor.execute(commandLine,env);
}
