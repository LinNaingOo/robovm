{
  if (in == null) {
    return -1;
  }
  if (buffer == null) {
    throw new NullPointerException();
  }
  if (offset < 0 || offset > buffer.length - count || count < 0) {
    throw new IndexOutOfBoundsException();
  }
  while (in != null) {
    int result=in.read(buffer,offset,count);
    if (result >= 0) {
      return result;
    }
    nextStream();
  }
  return -1;
}
