{
  boolean done=true;
  for (  Clazz clazz : config.getClazzes().listClasses()) {
    if (clazz.getClazzInfo().hasStructDependencies() && !compiled.contains(clazz.getInternalName())) {
      Set<String> structDependencies=new HashSet<String>(clazz.getClazzInfo().getStructDependencies());
      structDependencies.retainAll(dirtyStructs);
      if (!structDependencies.isEmpty()) {
        config.getLogger().debug("Recompiling class %s which depends on " + "changed @Struct classes: ",clazz,structDependencies);
        classCompiler.compile(clazz,true);
        compiled.add(clazz);
        if (clazz.getClazzInfo().isStruct()) {
          dirtyStructs.add(clazz.getInternalName());
          done=false;
        }
      }
    }
  }
  return done;
}
