{
  if (archs.isEmpty()) {
    archs.add(this.config.getArch());
  }
  List<File> slices=new ArrayList<>();
  for (  Arch arch : archs) {
    this.config.getLogger().info("Creating %s slice for IPA",arch);
    Config sliceConfig=this.config.builder().arch(arch).tmpDir(new File(this.config.getTmpDir(),arch.toString())).build();
    new AppCompiler(sliceConfig).compile();
    slices.add(new File(sliceConfig.getTmpDir(),sliceConfig.getExecutableName()));
    for (    Path path : sliceConfig.getResourcesPaths()) {
      if (!this.config.getResourcesPaths().contains(path)) {
        this.config.addResourcesPath(path);
      }
    }
    for (    String customIBClass : sliceConfig.getCustomIBClasses()) {
      if (!this.config.getCustomIBClasses().contains(customIBClass)) {
        this.config.addCustomIBClass(customIBClass);
      }
    }
  }
  ((IOSTarget)this.config.getTarget()).createIpa(slices);
}
