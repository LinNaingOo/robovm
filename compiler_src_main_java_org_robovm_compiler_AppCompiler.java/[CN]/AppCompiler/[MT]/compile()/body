{
  TreeSet<Clazz> compileQueue=getRootClasses();
  Set<Clazz> linkClasses=new HashSet<Clazz>();
  while (!compileQueue.isEmpty()) {
    Clazz clazz=compileQueue.pollFirst();
    if (!linkClasses.contains(clazz)) {
      compile(clazz,compileQueue,linkClasses);
      linkClasses.add(clazz);
    }
  }
  if (!config.isSkipLinking()) {
    linker.link(linkClasses);
  }
}
