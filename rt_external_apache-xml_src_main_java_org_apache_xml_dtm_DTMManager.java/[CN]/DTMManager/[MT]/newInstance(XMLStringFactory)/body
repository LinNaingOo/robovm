{
  DTMManager factoryImpl=null;
  try {
    factoryImpl=(DTMManager)ObjectFactory.createObject(defaultPropName,defaultClassName);
  }
 catch (  ObjectFactory.ConfigurationError e) {
    throw new DTMConfigurationException(XMLMessages.createXMLMessage(XMLErrorResources.ER_NO_DEFAULT_IMPL,null),e.getException());
  }
  if (factoryImpl == null) {
    throw new DTMConfigurationException(XMLMessages.createXMLMessage(XMLErrorResources.ER_NO_DEFAULT_IMPL,null));
  }
  factoryImpl.setXMLStringFactory(xsf);
  return factoryImpl;
}
