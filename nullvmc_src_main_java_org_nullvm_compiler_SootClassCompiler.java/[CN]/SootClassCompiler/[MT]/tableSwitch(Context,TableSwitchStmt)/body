{
  Map<IntegerConstant,BasicBlockRef> targets=new HashMap<IntegerConstant,BasicBlockRef>();
  for (int i=stmt.getLowIndex(); i <= stmt.getHighIndex(); i++) {
    Unit target=stmt.getTarget(i - stmt.getLowIndex());
    targets.put(new IntegerConstant(i),ctx.f().newBasicBlockRef(new Label(target)));
  }
  BasicBlockRef def=ctx.f().newBasicBlockRef(new Label(stmt.getDefaultTarget()));
  Value key=immediate(ctx,(Immediate)stmt.getKey());
  ctx.f().add(new Switch(key,def,targets));
}
