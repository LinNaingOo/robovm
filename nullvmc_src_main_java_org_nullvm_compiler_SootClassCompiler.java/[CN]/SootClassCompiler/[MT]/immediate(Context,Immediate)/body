{
  if (v instanceof soot.Local) {
    Local local=(Local)v;
    Type type=getLocalType(v.getType());
    VariableRef var=new VariableRef(local.getName(),new PointerType(type));
    Variable tmp=ctx.f().newVariable(type);
    ctx.f().add(new Load(tmp,var));
    return new VariableRef(tmp);
  }
 else   if (v instanceof soot.jimple.IntConstant) {
    return new IntegerConstant(((soot.jimple.IntConstant)v).value);
  }
 else   if (v instanceof soot.jimple.LongConstant) {
    return new IntegerConstant(((soot.jimple.LongConstant)v).value);
  }
 else   if (v instanceof soot.jimple.FloatConstant) {
    return new FloatingPointConstant(((soot.jimple.FloatConstant)v).value);
  }
 else   if (v instanceof soot.jimple.DoubleConstant) {
    return new FloatingPointConstant(((soot.jimple.DoubleConstant)v).value);
  }
 else   if (v instanceof soot.jimple.NullConstant) {
    return new NullConstant(OBJECT_PTR);
  }
 else   if (v instanceof soot.jimple.StringConstant) {
    String s=((soot.jimple.StringConstant)v).value;
    Value string=getString(s);
    return callOrInvoke(ctx,NVM_BC_LDC_STRING,ENV,string);
  }
 else   if (v instanceof soot.jimple.ClassConstant) {
    Value clazz=getString(((soot.jimple.ClassConstant)v).getValue());
    return callOrInvoke(ctx,NVM_BC_LDC_CLASS,ENV,clazz,getCaller(ctx));
  }
  throw new IllegalArgumentException("Unknown Immediate type: " + v.getClass());
}
