{
  if (ctx.hasTrap(ctx.getCurrentUnit())) {
    BasicBlockRef to=ctx.f().newBasicBlockRef(tag);
    BasicBlockRef unwind=ctx.f().newBasicBlockRef(ctx.getCurrentTraps());
    ctx.f().add(new Invoke(result,function,to,unwind,args));
    ctx.f().newBasicBlock(tag);
    ctx.recordCurrentTraps();
  }
 else {
    ctx.f().add(new Call(result,function,args));
  }
}
