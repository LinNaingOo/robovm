{
  Map<IntegerConstant,BasicBlockRef> targets=new HashMap<IntegerConstant,BasicBlockRef>();
  for (int i=0; i < stmt.getTargetCount(); i++) {
    int value=stmt.getLookupValue(i);
    Unit target=stmt.getTarget(i);
    targets.put(new IntegerConstant(value),ctx.f().newBasicBlockRef(new Label(target)));
  }
  BasicBlockRef def=ctx.f().newBasicBlockRef(new Label(stmt.getDefaultTarget()));
  Value key=widen(ctx,immediate(ctx,(Immediate)stmt.getKey()),I32,stmt.getKey().getType());
  ctx.f().add(new Switch(key,def,targets));
}
