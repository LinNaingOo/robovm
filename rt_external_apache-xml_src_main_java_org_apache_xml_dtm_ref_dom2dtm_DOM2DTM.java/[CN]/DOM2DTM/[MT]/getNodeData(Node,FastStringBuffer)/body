{
switch (node.getNodeType()) {
case Node.DOCUMENT_FRAGMENT_NODE:
case Node.DOCUMENT_NODE:
case Node.ELEMENT_NODE:
{
      for (Node child=node.getFirstChild(); null != child; child=child.getNextSibling()) {
        getNodeData(child,buf);
      }
    }
  break;
case Node.TEXT_NODE:
case Node.CDATA_SECTION_NODE:
case Node.ATTRIBUTE_NODE:
buf.append(node.getNodeValue());
break;
case Node.PROCESSING_INSTRUCTION_NODE:
break;
default :
break;
}
}
