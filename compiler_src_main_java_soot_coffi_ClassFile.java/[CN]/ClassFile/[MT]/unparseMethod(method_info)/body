{
  int codesize;
  byte bc[];
  Instruction i;
  m.cfg.reconstructInstructions();
  codesize=relabel(m.instructions);
  bc=new byte[codesize];
  if (bc == null) {
    G.v().out.println("Warning: can't allocate memory for recompile");
    return null;
  }
  i=m.instructions;
  codesize=0;
  while (i != null) {
    codesize=i.compile(bc,codesize);
    i=i.next;
  }
  if (codesize != bc.length)   G.v().out.println("Warning: code size doesn't match array length!");
  return bc;
}
