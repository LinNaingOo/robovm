{
  byte[] key={1,2,3,4,5,6,7,8};
  DESKeySpec ks;
  try {
    ks=new DESKeySpec(key);
  }
 catch (  InvalidKeyException e) {
    fail("InvalidKeyException should not be thrown.");
    return;
  }
  byte[] res=ks.getKey();
  assertTrue("The returned array should be equal to the specified " + "in constructor.",Arrays.equals(key,res));
  res[0]+=1;
  assertFalse("The modification of returned key should not affect" + "the underlying key.",key[0] == res[0]);
  byte[] key1={1,2,3,4,5,6,7,8,9,0};
  try {
    ks=new DESKeySpec(key1,2);
  }
 catch (  InvalidKeyException e) {
    fail("InvalidKeyException should not be thrown.");
    return;
  }
  res=ks.getKey();
  assertNotSame("The returned array should not be the same object " + "as specified in a constructor.",key1,res);
  byte[] exp=new byte[8];
  System.arraycopy(key1,2,exp,0,8);
  assertTrue("The returned array should be equal to the specified " + "in constructor.",Arrays.equals(exp,res));
}
