{
  this.resolver=resolver;
  variables=typeVariableList;
  black=new TreeSet<TypeVariableBV>();
  finished=new LinkedList<TypeVariableBV>();
  for (BitSetIterator i=variables.iterator(); i.hasNext(); ) {
    TypeVariableBV var=resolver.typeVariableForId(i.next());
    if (!black.contains(var)) {
      black.add(var);
      dfsg_visit(var);
    }
  }
  black=new TreeSet<TypeVariableBV>();
  for (  TypeVariableBV var : finished) {
    if (!black.contains(var)) {
      current_tree=new LinkedList<TypeVariableBV>();
      forest.add(current_tree);
      black.add(var);
      dfsgt_visit(var);
    }
  }
  for (Iterator<LinkedList<TypeVariableBV>> i=forest.iterator(); i.hasNext(); ) {
    LinkedList list=i.next();
    TypeVariableBV previous=null;
    StringBuffer s=null;
    if (DEBUG) {
      s=new StringBuffer("scc:\n");
    }
    for (Iterator j=list.iterator(); j.hasNext(); ) {
      TypeVariableBV current=(TypeVariableBV)j.next();
      if (DEBUG) {
        s.append(" " + current + "\n");
      }
      if (previous == null) {
        previous=current;
      }
 else {
        try {
          previous=previous.union(current);
        }
 catch (        TypeException e) {
          if (DEBUG) {
            G.v().out.println(s);
          }
          throw e;
        }
      }
    }
  }
}
