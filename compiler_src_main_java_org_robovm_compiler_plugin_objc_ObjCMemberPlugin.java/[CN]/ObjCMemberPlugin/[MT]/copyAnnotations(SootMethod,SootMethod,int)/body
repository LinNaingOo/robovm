{
  for (  Tag tag : fromMethod.getTags()) {
    if (tag instanceof VisibilityAnnotationTag && ((VisibilityAnnotationTag)tag).getVisibility() == RUNTIME_VISIBLE) {
      VisibilityAnnotationTag copy=new VisibilityAnnotationTag(RUNTIME_VISIBLE);
      for (      AnnotationTag annoTag : ((VisibilityAnnotationTag)tag).getAnnotations()) {
        copy.addAnnotation(annoTag);
      }
      toMethod.addTag(copy);
    }
 else     if (tag instanceof VisibilityParameterAnnotationTag && ((VisibilityParameterAnnotationTag)tag).getKind() == RUNTIME_VISIBLE) {
      toMethod.addTag(tag);
    }
  }
  VisibilityParameterAnnotationTag vpaTag=(VisibilityParameterAnnotationTag)toMethod.getTag(VisibilityParameterAnnotationTag.class.getSimpleName());
  if (vpaTag != null && vpaTag.getVisibilityAnnotations() != null) {
    toMethod.removeTag(vpaTag.getName());
    List<VisibilityAnnotationTag> tags=new ArrayList<>(vpaTag.getVisibilityAnnotations());
    for (int i=0; i < shift; i++) {
      tags.add(0,new VisibilityAnnotationTag(RUNTIME_VISIBLE));
    }
    vpaTag=new VisibilityParameterAnnotationTag(tags.size(),RUNTIME_VISIBLE);
    for (    VisibilityAnnotationTag tag : tags) {
      vpaTag.addVisibilityAnnotation(tag);
    }
    toMethod.addTag(vpaTag);
  }
}
