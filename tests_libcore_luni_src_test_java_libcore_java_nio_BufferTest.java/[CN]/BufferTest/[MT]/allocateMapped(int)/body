{
  File f=File.createTempFile("mapped","tmp");
  f.deleteOnExit();
  RandomAccessFile raf=new RandomAccessFile(f,"rw");
  raf.setLength(size);
  FileChannel ch=raf.getChannel();
  MappedByteBuffer result=ch.map(FileChannel.MapMode.READ_WRITE,0,size);
  ch.close();
  return result;
}
