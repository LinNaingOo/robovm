{
  FunctionRef fn=null;
  if (targetClassName.equals(this.className)) {
    fn=new FunctionRef(mangleClass(this.className) + "_allocator",new FunctionType(OBJECT_PTR,ENV_PTR));
  }
 else {
    Trampoline trampoline=new New(this.className,targetClassName);
    trampolines.add(trampoline);
    fn=trampoline.getFunctionRef();
  }
  Value result=call(function,fn,function.getParameterRef(0));
  Variable handleI8Ptr=function.newVariable(I8_PTR);
  function.add(new Bitcast(handleI8Ptr,handle,I8_PTR));
  call(function,BC_SET_STRUCT_HANDLE,function.getParameterRef(0),result,handleI8Ptr.ref());
  return result;
}
