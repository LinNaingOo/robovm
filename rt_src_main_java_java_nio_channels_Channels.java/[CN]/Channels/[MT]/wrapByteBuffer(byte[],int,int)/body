{
  ByteBuffer buffer=ByteBuffer.wrap(bytes);
  int newLimit=offset + length <= buffer.capacity() ? offset + length : buffer.capacity();
  buffer.limit(newLimit);
  buffer.position(offset);
  return buffer;
}
