{
  super(settings);
  if (baseFactory == null) {
    factory=DocumentBuilderFactory.newInstance();
  }
 else {
    factory=baseFactory;
  }
  if (settings != null) {
    for (int i=0; i < settings.length; i++) {
      settings[i].applySetting(factory);
    }
  }
  try {
    this.builder=factory.newDocumentBuilder();
  }
 catch (  ParserConfigurationException ex) {
    throw new DOMTestIncompatibleException(ex,null);
  }
}
