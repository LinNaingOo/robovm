{
  if (null == target) {
    throw new NullPointerException();
  }
  checkOpenConnected();
  if (!target.hasRemaining()) {
    return 0;
  }
  int readCount;
  if (target.isDirect() || target.hasArray()) {
    readCount=readImpl(target);
    if (readCount > 0) {
      target.position(target.position() + readCount);
    }
  }
 else {
    ByteBuffer readBuffer=null;
    byte[] readArray=null;
    readArray=new byte[target.remaining()];
    readBuffer=ByteBuffer.wrap(readArray);
    readCount=readImpl(readBuffer);
    if (readCount > 0) {
      target.put(readArray,0,readCount);
    }
  }
  return readCount;
}
