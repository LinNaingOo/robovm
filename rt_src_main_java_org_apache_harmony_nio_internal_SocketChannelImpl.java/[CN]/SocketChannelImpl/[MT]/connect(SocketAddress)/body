{
  checkUnconnected();
  InetSocketAddress inetSocketAddress=validateAddress(socketAddress);
  InetAddress normalAddr=inetSocketAddress.getAddress();
  if (normalAddr.isAnyLocalAddress()) {
    normalAddr=InetAddress.getLocalHost();
  }
  int port=inetSocketAddress.getPort();
  String hostName=normalAddr.getHostName();
  SecurityManager sm=System.getSecurityManager();
  if (sm != null) {
    sm.checkConnect(hostName,port);
  }
  int result=EOF;
  boolean finished=false;
  try {
    if (isBlocking()) {
      begin();
      result=networkSystem.connect(fd,trafficClass,normalAddr,port);
    }
 else {
      result=networkSystem.connectWithTimeout(fd,0,trafficClass,normalAddr,port,HY_SOCK_STEP_START,connectContext);
      if (!this.isBlocking()) {
        networkSystem.setNonBlocking(fd,true);
      }
    }
    finished=(CONNECT_SUCCESS == result);
    isBound=finished;
  }
 catch (  IOException e) {
    if (isOpen()) {
      close();
      finished=true;
    }
    throw e;
  }
 finally {
    if (isBlocking()) {
      end(finished);
    }
  }
  localPort=networkSystem.getSocketLocalPort(fd,false);
  localAddress=networkSystem.getSocketLocalAddress(fd,false);
  connectAddress=inetSocketAddress;
synchronized (this) {
    if (finished) {
      status=SOCKET_STATUS_CONNECTED;
    }
 else {
      status=isBlocking() ? SOCKET_STATUS_UNCONNECTED : SOCKET_STATUS_PENDING;
    }
  }
  return finished;
}
