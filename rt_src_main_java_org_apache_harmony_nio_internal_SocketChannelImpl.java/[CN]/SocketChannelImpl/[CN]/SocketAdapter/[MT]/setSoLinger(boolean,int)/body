{
  checkOpen();
  if (on && timeout < 0) {
    throw new IllegalArgumentException(Messages.getString("nio.0F"));
  }
  int val=on ? (65535 < timeout ? 65535 : timeout) : -1;
  socketImpl.setOption(SocketOptions.SO_LINGER,Integer.valueOf(val));
}
