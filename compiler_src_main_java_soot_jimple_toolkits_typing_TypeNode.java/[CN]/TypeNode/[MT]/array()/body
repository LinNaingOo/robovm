{
  if (array != null) {
    return array;
  }
  if (type instanceof ArrayType) {
    ArrayType atype=(ArrayType)type;
    array=hierarchy.typeNode(ArrayType.v(atype.baseType,atype.numDimensions + 1));
    return array;
  }
  if (type instanceof PrimType || type instanceof RefType) {
    array=hierarchy.typeNode(ArrayType.v(type,1));
    return array;
  }
  throw new InternalTypingException();
}
