{
  final ReentrantLock lock=ArrayBlockingQueue.this.lock;
  lock.lock();
  try {
    if (nextIndex < 0)     throw new NoSuchElementException();
    lastRet=nextIndex;
    E x=nextItem;
    nextIndex=inc(nextIndex);
    checkNext();
    return x;
  }
  finally {
    lock.unlock();
  }
}
