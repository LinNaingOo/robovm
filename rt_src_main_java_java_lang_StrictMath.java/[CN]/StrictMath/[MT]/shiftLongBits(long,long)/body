{
  if (digits > 0) {
    return bits << digits;
  }
  long absdigits=-digits;
  if (Long.numberOfLeadingZeros(bits & ~DOUBLE_SIGN_MASK) <= (64 - absdigits)) {
    if ((((bits >> (absdigits - 1)) & 0x1) == 0) || Long.numberOfTrailingZeros(bits) == (absdigits - 1)) {
      return bits >> absdigits;
    }
    return ((bits >> absdigits) + 1);
  }
  return 0;
}
