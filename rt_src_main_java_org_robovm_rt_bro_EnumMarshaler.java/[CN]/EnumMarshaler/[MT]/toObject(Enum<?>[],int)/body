{
  if (values.length == 0) {
    throw new AssertionError("Enum class has no values!");
  }
  if (ordinal < 0 || ordinal >= values.length) {
    Class<?> enumType=values[0].getClass();
    throw new IllegalArgumentException("No constant with ordinal " + ordinal + " in "+ enumType.getName());
  }
  return values[ordinal];
}
