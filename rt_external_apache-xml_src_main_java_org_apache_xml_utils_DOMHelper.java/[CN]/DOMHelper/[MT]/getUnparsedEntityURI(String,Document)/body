{
  String url="";
  DocumentType doctype=doc.getDoctype();
  if (null != doctype) {
    NamedNodeMap entities=doctype.getEntities();
    if (null == entities)     return url;
    Entity entity=(Entity)entities.getNamedItem(name);
    if (null == entity)     return url;
    String notationName=entity.getNotationName();
    if (null != notationName) {
      url=entity.getSystemId();
      if (null == url) {
        url=entity.getPublicId();
      }
 else {
      }
    }
  }
  return url;
}
