{
  if (done) {
    throw new IOException(Messages.getString("archive.26"));
  }
  if (off <= buffer.length && nbytes >= 0 && off >= 0 && buffer.length - off >= nbytes) {
    if (!def.needsInput()) {
      throw new IOException();
    }
    def.setInput(buffer,off,nbytes);
    deflate();
  }
 else {
    throw new ArrayIndexOutOfBoundsException();
  }
}
