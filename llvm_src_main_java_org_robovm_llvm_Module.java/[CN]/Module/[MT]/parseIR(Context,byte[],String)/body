{
  filename=filename == null ? "" : filename;
  MemoryBufferRef memoryBufferRef=LLVM.CreateMemoryBufferWithMemoryRangeCopy(data,filename);
  if (memoryBufferRef == null) {
    throw new LlvmException("Failed to create memory buffer");
  }
  ModuleRefOut moduleRefOut=new ModuleRefOut();
  StringOut errorMessage=new StringOut();
  if (!LLVM.ParseIRInContext(context.ref,memoryBufferRef,moduleRefOut,errorMessage)) {
    return new Module(moduleRefOut.getValue());
  }
  throw new LlvmException(errorMessage.getValue().trim());
}
