{
  try {
    validator=CertPathValidator.getInstance("PKIX");
    factory=CertificateFactory.getInstance("X509");
    byte[] nameConstrains=null;
    Set<TrustAnchor> trusted=new HashSet<TrustAnchor>();
    for (Enumeration<String> en=ks.aliases(); en.hasMoreElements(); ) {
      final String alias=en.nextElement();
      final X509Certificate cert=(X509Certificate)ks.getCertificate(alias);
      if (cert != null) {
        trusted.add(new TrustAnchor(cert,nameConstrains));
      }
    }
    params=new PKIXParameters(trusted);
    params.setRevocationEnabled(false);
  }
 catch (  Exception e) {
    err=e;
  }
}
