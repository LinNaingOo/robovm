{
  if (params == null) {
    return new X509Certificate[0];
  }
  Set<TrustAnchor> anchors=params.getTrustAnchors();
  X509Certificate[] certs=new X509Certificate[anchors.size()];
  int i=0;
  for (Iterator<TrustAnchor> it=anchors.iterator(); it.hasNext(); ) {
    certs[i++]=it.next().getTrustedCert();
  }
  return certs;
}
