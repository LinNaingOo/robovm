{
  int lin=linear(bytes);
  int rangeCounter=0;
  while (rangeCounter < ranges.length) {
    int startBytes=ranges[rangeCounter++];
    int length=ranges[rangeCounter++];
    int startChar=charValues.charAt(rangeCounter / 2 - 1);
    if (startBytes <= lin && lin <= startBytes + length) {
      return startChar + (lin - startBytes);
    }
  }
  return -1;
}
