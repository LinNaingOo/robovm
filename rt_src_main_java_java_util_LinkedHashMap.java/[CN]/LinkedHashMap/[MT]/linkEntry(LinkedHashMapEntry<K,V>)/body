{
  if (tail == m) {
    return;
  }
  if (head == null) {
    head=tail=m;
    return;
  }
  LinkedHashMapEntry<K,V> p=m.chainBackward;
  LinkedHashMapEntry<K,V> n=m.chainForward;
  if (p == null) {
    if (n != null) {
      if (accessOrder) {
        head=n;
        n.chainBackward=null;
        m.chainBackward=tail;
        m.chainForward=null;
        tail.chainForward=m;
        tail=m;
      }
    }
 else {
      m.chainBackward=tail;
      m.chainForward=null;
      tail.chainForward=m;
      tail=m;
    }
    return;
  }
  if (n == null) {
    return;
  }
  if (accessOrder) {
    p.chainForward=n;
    n.chainBackward=p;
    m.chainForward=null;
    m.chainBackward=tail;
    tail.chainForward=m;
    tail=m;
  }
}
