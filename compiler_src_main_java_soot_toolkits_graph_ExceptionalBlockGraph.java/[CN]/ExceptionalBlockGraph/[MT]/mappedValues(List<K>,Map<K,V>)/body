{
  List<V> result=new ArrayList<V>(keys.size());
  for (Iterator<K> it=keys.iterator(); it.hasNext(); ) {
    K key=it.next();
    V value=keyToValue.get(key);
    if (value == null) {
      throw new IllegalStateException("No value corresponding to key: " + key.toString());
    }
    result.add(value);
  }
  return result;
}
