{
  String error="Path " + dir + " is not a valid RoboVM source tree: ";
  if (!dir.exists()) {
    throw new IllegalArgumentException(error + "no such path");
  }
  if (!dir.isDirectory()) {
    throw new IllegalArgumentException(error + "not a directory");
  }
  File vmBinariesDir=new File(dir,"vm/binaries");
  if (!vmBinariesDir.exists() || !vmBinariesDir.isDirectory()) {
    throw new IllegalArgumentException(error + "vm/binaries/ missing or invalid");
  }
  File binDir=new File(dir,"bin");
  if (!binDir.exists() || !binDir.isDirectory()) {
    throw new IllegalArgumentException(error + "bin/ missing or invalid");
  }
  File rtTargetClasses=new File(dir,"rt/target/classes");
  if (!rtTargetClasses.exists() || !rtTargetClasses.isDirectory()) {
    throw new IllegalArgumentException(error + "rt/target/classes/ missing or invalid");
  }
}
