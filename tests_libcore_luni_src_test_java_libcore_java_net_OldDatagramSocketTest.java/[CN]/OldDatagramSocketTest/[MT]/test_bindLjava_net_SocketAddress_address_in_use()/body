{
  int[] ports=Support_PortManager.getNextPortsForUDP(2);
  DatagramSocket theSocket1=new DatagramSocket((SocketAddress)null);
  DatagramSocket theSocket2=new DatagramSocket(ports[0]);
  try {
    InetSocketAddress theAddress=new InetSocketAddress(InetAddress.getLocalHost(),ports[1]);
    theSocket1.bind(theAddress);
    theSocket2.bind(theAddress);
    fail("No exception binding to address that is not available");
  }
 catch (  SocketException expected) {
  }
  theSocket1.close();
  theSocket2.close();
}
