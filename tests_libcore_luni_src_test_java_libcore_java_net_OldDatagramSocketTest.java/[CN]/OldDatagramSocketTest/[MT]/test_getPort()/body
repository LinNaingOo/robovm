{
  try {
    int portNumber=Support_PortManager.getNextPortForUDP();
    DatagramSocket theSocket=new DatagramSocket(portNumber);
    assertEquals("Expected -1 for remote port as not connected",-1,theSocket.getPort());
    theSocket.connect(InetAddress.getLocalHost(),portNumber);
    assertTrue("getPort returned wrong value:" + theSocket.getPort() + ":Expected:"+ portNumber,theSocket.getPort() == portNumber);
  }
 catch (  Exception e) {
    fail("unexpected exception during getPort test : " + e.getMessage());
  }
}
