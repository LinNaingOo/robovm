{
  try {
    int portNumber=Support_PortManager.getNextPortForUDP();
    ds=new java.net.DatagramSocket(portNumber,InetAddress.getLocalHost());
    assertTrue("Created socket with incorrect port",ds.getLocalPort() == portNumber);
    assertTrue("Created socket with incorrect address",ds.getLocalAddress().equals(InetAddress.getLocalHost()));
  }
 catch (  Exception e) {
    fail("Could not create DatagramSocket : " + e.getMessage());
  }
  try {
    new java.net.DatagramSocket(1,InetAddress.getLocalHost());
    fail("SocketException was not thrown.");
  }
 catch (  SocketException se) {
  }
catch (  UnknownHostException e) {
    fail("UnknownHostException was thrown.");
  }
}
