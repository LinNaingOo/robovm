{
  openCheck();
synchronized (repositioningLock) {
    if (fd == FileDescriptor.in) {
      return (int)fileSystem.ttyAvailable();
    }
    return (int)fileSystem.available(fd.descriptor);
  }
}
