{
  ServerSocket serverSocket=new ServerSocket(0,5);
  Socket theSocket=new Socket(serverSocket.getInetAddress(),serverSocket.getLocalPort());
  Socket servSock=serverSocket.accept();
  assertTrue("Socket indicated  not connected when it should be",theSocket.isConnected());
  theSocket.close();
  serverSocket.close();
  theSocket=new Socket();
  assertFalse("Socket indicated connected when it was not",theSocket.isConnected());
  serverSocket=new ServerSocket(0,5);
  theSocket.connect(serverSocket.getLocalSocketAddress());
  servSock=serverSocket.accept();
  assertTrue("Socket indicated  not connected when it should be",theSocket.isConnected());
  theSocket.close();
  serverSocket.close();
}
