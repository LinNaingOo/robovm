{
  ReferenceBooleanPair<V> current=atomicRef.get();
  return expectedReference == current.reference && (newMark == current.bit || atomicRef.compareAndSet(current,new ReferenceBooleanPair<V>(expectedReference,newMark)));
}
