{
  ReferenceBooleanPair<V> current=atomicRef.get();
  return expectedReference == current.reference && expectedMark == current.bit && ((newReference == current.reference && newMark == current.bit) || atomicRef.weakCompareAndSet(current,new ReferenceBooleanPair<V>(newReference,newMark)));
}
