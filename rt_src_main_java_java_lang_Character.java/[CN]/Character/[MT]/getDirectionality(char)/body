{
  int result=BinarySearch.binarySearchRange(bidiKeys,c);
  int high=bidiValues[result * 2];
  if (c <= high) {
    int code=bidiValues[result * 2 + 1];
    if (code < 0x100) {
      return (byte)(code - 1);
    }
    return (byte)(((c & 1) == 1 ? code >> 8 : code & 0xff) - 1);
  }
  return DIRECTIONALITY_UNDEFINED;
}
