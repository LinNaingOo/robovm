{
  if (null == stream) {
    throw new NullPointerException();
  }
  if (this.dest != null) {
    throw new IOException(Messages.getString("luni.5F"));
  }
synchronized (stream) {
    if (stream.isConnected) {
      throw new IOException(Messages.getString("luni.D0"));
    }
    if (stream.buffer == null) {
      stream.buffer=new byte[PipedInputStream.PIPE_SIZE];
    }
    stream.isConnected=true;
    this.dest=stream;
  }
}
