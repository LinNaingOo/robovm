{
  LiveLocals sll=new SimpleLiveLocals(new ExceptionalUnitGraph(b));
  Iterator it=b.getUnits().iterator();
  while (it.hasNext()) {
    Stmt s=(Stmt)it.next();
    Iterator liveLocalsIt=sll.getLiveLocalsAfter(s).iterator();
    while (liveLocalsIt.hasNext()) {
      Value v=(Value)liveLocalsIt.next();
      s.addTag(new StringTag("Live Variable: " + v,"Live Variable"));
      Iterator usesIt=s.getUseBoxes().iterator();
      while (usesIt.hasNext()) {
        ValueBox use=(ValueBox)usesIt.next();
        if (use.getValue().equals(v)) {
          use.addTag(new ColorTag(ColorTag.GREEN,"Live Variable"));
        }
      }
      Iterator defsIt=s.getDefBoxes().iterator();
      while (defsIt.hasNext()) {
        ValueBox def=(ValueBox)defsIt.next();
        if (def.getValue().equals(v)) {
          def.addTag(new ColorTag(ColorTag.GREEN,"Live Variable"));
        }
      }
    }
  }
}
