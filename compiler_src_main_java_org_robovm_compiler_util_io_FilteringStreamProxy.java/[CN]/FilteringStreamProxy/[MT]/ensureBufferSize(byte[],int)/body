{
  if (buffer.length < requiredLength) {
    byte[] newBuffer=new byte[buffer.length * 2];
    System.arraycopy(buffer,0,newBuffer,0,buffer.length);
    buffer=newBuffer;
  }
  return buffer;
}
