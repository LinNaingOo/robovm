{
  if (this == other) {
    return true;
  }
  if (other == null || this.getClass() != other.getClass()) {
    return false;
  }
  SocketPermission sp=(SocketPermission)other;
  if (!hostName.equalsIgnoreCase(sp.hostName)) {
    if (getIPString(true) == null || !ipString.equalsIgnoreCase(sp.getIPString(true))) {
      return false;
    }
  }
  if (this.actionsMask != SP_RESOLVE) {
    if (this.portMin != sp.portMin) {
      return false;
    }
    if (this.portMax != sp.portMax) {
      return false;
    }
  }
  return this.actionsMask == sp.actionsMask;
}
