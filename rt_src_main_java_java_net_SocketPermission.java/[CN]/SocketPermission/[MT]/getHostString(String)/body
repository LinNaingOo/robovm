{
  host=host.trim();
  int idx=-1;
  idx=host.indexOf(':');
  isPartialWild=(host.length() > 0 && host.charAt(0) == '*');
  if (isPartialWild) {
    resolved=true;
    isWild=(host.length() == 1);
    if (isWild) {
      return host;
    }
    if (idx > -1) {
      host=host.substring(0,idx);
    }
    return host.toLowerCase();
  }
  int lastIdx=host.lastIndexOf(':');
  if (idx == lastIdx) {
    if (-1 != idx) {
      host=host.substring(0,idx);
    }
    return host.toLowerCase();
  }
  boolean isFirstBracket=(host.charAt(0) == '[');
  if (!isFirstBracket) {
    int colonNum=0;
    for (int i=0; i < host.length(); ++i) {
      if (host.charAt(i) == ':') {
        colonNum++;
      }
    }
    if (8 == colonNum) {
      host=host.substring(0,lastIdx);
    }
    if (Inet6Util.isIP6AddressInFullForm(host)) {
      return host.toLowerCase();
    }
    throw new IllegalArgumentException(Messages.getString("luni.7C",host));
  }
  int bbracketIdx=host.indexOf(']');
  if (-1 == bbracketIdx) {
    throw new IllegalArgumentException(Messages.getString("luni.7C",host));
  }
  host=host.substring(0,bbracketIdx + 1);
  if (Inet6Util.isValidIP6Address(host)) {
    return host.toLowerCase();
  }
  throw new IllegalArgumentException(Messages.getString("luni.7C",host));
}
