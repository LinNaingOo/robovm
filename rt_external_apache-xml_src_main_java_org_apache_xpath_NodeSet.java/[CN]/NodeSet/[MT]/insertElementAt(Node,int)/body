{
  if (!m_mutable)   throw new RuntimeException(XSLMessages.createXPATHMessage(XPATHErrorResources.ER_NODESET_NOT_MUTABLE,null));
  if (null == m_map) {
    m_map=new Node[m_blocksize];
    m_mapSize=m_blocksize;
  }
 else   if ((m_firstFree + 1) >= m_mapSize) {
    m_mapSize+=m_blocksize;
    Node newMap[]=new Node[m_mapSize];
    System.arraycopy(m_map,0,newMap,0,m_firstFree + 1);
    m_map=newMap;
  }
  if (at <= (m_firstFree - 1)) {
    System.arraycopy(m_map,at,m_map,at + 1,m_firstFree - at);
  }
  m_map[at]=value;
  m_firstFree++;
}
