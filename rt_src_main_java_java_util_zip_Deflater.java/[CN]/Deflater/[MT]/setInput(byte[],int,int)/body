{
  if (streamHandle == -1) {
    throw new IllegalStateException();
  }
  if (off <= buf.length && nbytes >= 0 && off >= 0 && buf.length - off >= nbytes) {
    inLength=nbytes;
    inRead=0;
    if (inputBuffer == null) {
      setLevelsImpl(compressLevel,strategy,streamHandle);
    }
    inputBuffer=buf;
    setInputImpl(buf,off,nbytes,streamHandle);
  }
 else {
    throw new ArrayIndexOutOfBoundsException();
  }
}
