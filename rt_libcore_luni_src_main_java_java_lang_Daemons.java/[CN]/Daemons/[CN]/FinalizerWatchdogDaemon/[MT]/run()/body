{
  while (isRunning()) {
    try {
      Object object=FinalizerDaemon.INSTANCE.finalizingObject;
      long startedNanos=FinalizerDaemon.INSTANCE.finalizingStartedNanos;
      if (object == null) {
synchronized (this) {
          wait();
          continue;
        }
      }
      long elapsedMillis=(System.nanoTime() - startedNanos) / NANOS_PER_MILLI;
      long sleepMillis=MAX_FINALIZE_MILLIS - elapsedMillis;
      if (sleepMillis > 0) {
        Thread.sleep(sleepMillis);
        elapsedMillis=(System.nanoTime() - startedNanos) / NANOS_PER_MILLI;
      }
      if (object != FinalizerDaemon.INSTANCE.finalizingObject || VMRuntime.getRuntime().isDebuggerActive()) {
        continue;
      }
      Exception syntheticException=new TimeoutException();
      syntheticException.setStackTrace(FinalizerDaemon.INSTANCE.getStackTrace());
      System.logE(object.getClass().getName() + ".finalize() timed out after " + elapsedMillis+ " ms; limit is "+ MAX_FINALIZE_MILLIS+ " ms",syntheticException);
      System.exit(2);
    }
 catch (    InterruptedException ignored) {
    }
  }
}
