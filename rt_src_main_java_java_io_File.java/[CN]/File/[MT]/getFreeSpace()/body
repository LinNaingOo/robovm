{
  SecurityManager security=System.getSecurityManager();
  if (security != null) {
    security.checkPermission(new RuntimePermission("getFileSystemAttributes"));
    security.checkRead(path);
  }
  return getFreeSpaceImpl(properPath(true));
}
