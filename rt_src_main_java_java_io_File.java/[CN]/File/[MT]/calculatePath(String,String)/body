{
  dirPath=fixSlashes(dirPath);
  if (!name.equals(EMPTY_STRING) || dirPath.equals(EMPTY_STRING)) {
    name=fixSlashes(name);
    int separatorIndex=0;
    while ((separatorIndex < name.length()) && (name.charAt(separatorIndex) == separatorChar)) {
      separatorIndex++;
    }
    if (separatorIndex > 0) {
      name=name.substring(separatorIndex,name.length());
    }
    if (dirPath.length() > 0 && (dirPath.charAt(dirPath.length() - 1) == separatorChar)) {
      return dirPath + name;
    }
    return dirPath + separatorChar + name;
  }
  return dirPath;
}
