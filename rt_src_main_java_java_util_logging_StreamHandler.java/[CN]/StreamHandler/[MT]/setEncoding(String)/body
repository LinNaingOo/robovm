{
  this.flush();
  super.setEncoding(encoding);
  if (null != this.writer) {
    if (null == getEncoding()) {
      this.writer=new OutputStreamWriter(this.os);
    }
 else {
      try {
        this.writer=new OutputStreamWriter(this.os,getEncoding());
      }
 catch (      UnsupportedEncodingException e) {
        throw new AssertionError(e);
      }
    }
  }
}
