{
  String result=(node instanceof Text ? ((Text)node).getData() : "");
  Node child=node.getFirstChild();
  while (child != null) {
    result=result + getTextContent(child);
    child=child.getNextSibling();
  }
  return result;
}
