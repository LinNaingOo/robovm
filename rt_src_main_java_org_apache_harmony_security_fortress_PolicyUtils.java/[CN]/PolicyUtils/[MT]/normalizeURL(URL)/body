{
  if (codebase != null && "file".equals(codebase.getProtocol())) {
    try {
      if (codebase.getHost().length() == 0) {
        String path=codebase.getFile();
        if (path.length() == 0) {
          path="*";
        }
        return filePathToURI(new File(path).getAbsolutePath()).normalize().toURL();
      }
 else {
        return codebase.toURI().normalize().toURL();
      }
    }
 catch (    Exception e) {
    }
  }
  return codebase;
}
