{
  this.uri=uri;
  this.proxy=proxy;
  if (proxy.type() == Proxy.Type.HTTP) {
    SocketAddress proxyAddr=proxy.address();
    if (!(proxyAddr instanceof InetSocketAddress)) {
      throw new IllegalArgumentException(Messages.getString("luni.49",proxyAddr.getClass()));
    }
    InetSocketAddress iProxyAddr=(InetSocketAddress)proxyAddr;
    this.hostName=iProxyAddr.getHostName();
    this.hostPort=iProxyAddr.getPort();
  }
 else {
    this.hostName=uri.getHost();
    this.hostPort=uri.getPort();
    if (hostPort == -1) {
      if (uri.getScheme().equals("https")) {
        hostPort=443;
      }
 else {
        hostPort=80;
      }
    }
  }
  this.uri=uri;
  SocketAddress proxyAddr=proxy.address();
  if (!(proxyAddr instanceof InetSocketAddress)) {
    throw new IllegalArgumentException(Messages.getString("luni.49",proxyAddr.getClass()));
  }
  InetSocketAddress iProxyAddr=(InetSocketAddress)proxyAddr;
  this.hostName=iProxyAddr.getHostName();
  this.hostPort=iProxyAddr.getPort();
}
