{
  if (throwExceptionOnNextUse) {
    throw new IOException("Exception thrown for testing purpose.");
  }
  if (pos < len) {
    int res=buf[pos];
    pos++;
    return res;
  }
 else {
    return -1;
  }
}
