{
  BitVector ancestors=new BitVector(0);
  BitVector indirectAncestors=new BitVector(0);
  fixParents();
  for (BitSetIterator i=parents.iterator(); i.hasNext(); ) {
    TypeVariableBV parent=resolver.typeVariableForId(i.next()).ecr();
    if (parent.ancestors == null) {
      parent.fixAncestors();
    }
    ancestors.set(parent.id);
    ancestors.or(parent.ancestors);
    indirectAncestors.or(parent.ancestors);
  }
  this.ancestors=ancestors;
  this.indirectAncestors=indirectAncestors;
}
