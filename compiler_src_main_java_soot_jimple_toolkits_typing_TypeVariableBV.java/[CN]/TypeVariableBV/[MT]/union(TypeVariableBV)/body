{
  if (rep != this) {
    return ecr().union(var);
  }
  TypeVariableBV y=var.ecr();
  if (this == y) {
    parents.clear(var.ownId());
    children.clear(var.ownId());
    return this;
  }
  if (rank > y.rank) {
    resolver.invalidateId(y.id());
    y.rep=this;
    merge(y);
    y.clear();
    return this;
  }
  resolver.invalidateId(this.id());
  rep=y;
  if (rank == y.rank) {
    y.rank++;
  }
  y.merge(this);
  clear();
  return y;
}
