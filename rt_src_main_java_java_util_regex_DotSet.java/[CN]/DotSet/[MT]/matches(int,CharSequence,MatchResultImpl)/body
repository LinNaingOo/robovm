{
  int strLength=matchResult.getRightBound();
  if (stringIndex + 1 > strLength) {
    matchResult.hitEnd=true;
    return -1;
  }
  char high=testString.charAt(stringIndex);
  if (Character.isHighSurrogate(high) && (stringIndex + 2 <= strLength)) {
    char low=testString.charAt(stringIndex + 1);
    if (Character.isSurrogatePair(high,low)) {
      return lt.isLineTerminator(Character.toCodePoint(high,low)) ? -1 : next.matches(stringIndex + 2,testString,matchResult);
    }
  }
  return lt.isLineTerminator(high) ? -1 : next.matches(stringIndex + 1,testString,matchResult);
}
