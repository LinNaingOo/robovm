{
  super();
  SecurityManager security=System.getSecurityManager();
  if (security != null) {
    security.checkWrite(file.getPath());
  }
  fd=new FileDescriptor();
  fd.descriptor=fileSystem.open(file.properPath(true),append ? IFileSystem.O_APPEND : IFileSystem.O_WRONLY);
  innerFD=true;
  channel=FileChannelFactory.getFileChannel(this,fd.descriptor,append ? IFileSystem.O_APPEND : IFileSystem.O_WRONLY);
}
