{
  HashMap<EquivalentValue,RefIntPair> pairsMap=null;
  if (v == kNonNull)   pairsMap=kRefNonNullPairs;
 else   if (v == kNull)   pairsMap=kRefNullPairs;
 else   if (v == kTop)   pairsMap=kRefTopPairs;
 else   if (v == kBottom)   pairsMap=kRefBotttomPairs;
 else   throw new RuntimeException("invalid constant (" + v + ")");
  if (pairsMap.containsKey(r))   return pairsMap.get(r);
 else {
    RefIntPair pair=new RefIntPair(r,v,this);
    pairsMap.put(r,pair);
    return pair;
  }
}
