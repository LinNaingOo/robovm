{
  this.info=info;
  ASN1Integer derY;
  try {
    derY=(ASN1Integer)info.parsePublicKey();
  }
 catch (  IOException e) {
    throw new IllegalArgumentException("invalid info structure in DH public key");
  }
  this.y=derY.getValue();
  ASN1Sequence seq=ASN1Sequence.getInstance(info.getAlgorithm().getParameters());
  ASN1ObjectIdentifier id=info.getAlgorithm().getAlgorithm();
  if (id.equals(PKCSObjectIdentifiers.dhKeyAgreement) || isPKCSParam(seq)) {
    DHParameter params=DHParameter.getInstance(seq);
    if (params.getL() != null) {
      this.dhSpec=new DHParameterSpec(params.getP(),params.getG(),params.getL().intValue());
    }
 else {
      this.dhSpec=new DHParameterSpec(params.getP(),params.getG());
    }
  }
 else   if (id.equals(X9ObjectIdentifiers.dhpublicnumber)) {
    DHDomainParameters params=DHDomainParameters.getInstance(seq);
    this.dhSpec=new DHParameterSpec(params.getP().getValue(),params.getG().getValue());
  }
 else {
    throw new IllegalArgumentException("unknown algorithm type: " + id);
  }
}
