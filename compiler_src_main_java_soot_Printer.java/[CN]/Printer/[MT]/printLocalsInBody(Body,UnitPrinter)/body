{
{
    Map<Type,List> typeToLocals=new DeterministicHashMap(body.getLocalCount() * 2 + 1,0.7f);
{
      Iterator localIt=body.getLocals().iterator();
      while (localIt.hasNext()) {
        Local local=(Local)localIt.next();
        List<Local> localList;
        Type t=local.getType();
        if (typeToLocals.containsKey(t))         localList=typeToLocals.get(t);
 else {
          localList=new ArrayList<Local>();
          typeToLocals.put(t,localList);
        }
        localList.add(local);
      }
    }
{
      Iterator<Type> typeIt=typeToLocals.keySet().iterator();
      while (typeIt.hasNext()) {
        Type type=typeIt.next();
        List localList=typeToLocals.get(type);
        Object[] locals=localList.toArray();
        up.type(type);
        up.literal(" ");
        for (int k=0; k < locals.length; k++) {
          if (k != 0)           up.literal(", ");
          up.local((Local)locals[k]);
        }
        up.literal(";");
        up.newline();
      }
    }
    if (!typeToLocals.isEmpty()) {
      up.newline();
    }
  }
}
