{
  if (object instanceof Number) {
    double dv=((Number)object).doubleValue();
    long lv=((Number)object).longValue();
    if (dv == lv) {
      return format(lv,buffer,field);
    }
    return format(dv,buffer,field);
  }
  throw new IllegalArgumentException();
}
