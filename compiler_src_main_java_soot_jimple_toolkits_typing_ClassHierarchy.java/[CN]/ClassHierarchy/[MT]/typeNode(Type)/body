{
  if (type == null) {
    throw new InternalTypingException();
  }
  type=transform.toInt(type);
  TypeNode typeNode=typeNodeMap.get(type);
  if (typeNode == null) {
    int id=typeNodeList.size();
    typeNodeList.add(null);
    typeNode=make.typeNode(id,type,this);
    typeNodeList.set(id,typeNode);
    typeNodeMap.put(type,typeNode);
  }
  return typeNode;
}
