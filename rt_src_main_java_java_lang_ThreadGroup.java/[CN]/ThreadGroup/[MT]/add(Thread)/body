{
synchronized (this.childrenThreadsLock) {
    if (!isDestroyed) {
      if (childrenThreads.length == numThreads) {
        Thread[] newThreads=new Thread[childrenThreads.length * 2];
        System.arraycopy(childrenThreads,0,newThreads,0,numThreads);
        newThreads[numThreads++]=thread;
        childrenThreads=newThreads;
      }
 else {
        childrenThreads[numThreads++]=thread;
      }
    }
 else {
      throw new IllegalThreadStateException();
    }
  }
}
