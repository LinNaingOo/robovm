{
  if (loader == null) {
    throw new NullPointerException();
  }
  if (bundleName != null) {
    ResourceBundle bundle;
    if (!locale.equals(Locale.getDefault())) {
      if ((bundle=handleGetBundle(bundleName,UNDER_SCORE + locale,false,loader)) != null) {
        return bundle;
      }
    }
    if ((bundle=handleGetBundle(bundleName,UNDER_SCORE + Locale.getDefault(),true,loader)) != null) {
      return bundle;
    }
    throw new MissingResourceException(Messages.getString("luni.3A",bundleName,locale),bundleName + '_' + locale,EMPTY_STRING);
  }
  throw new NullPointerException();
}
